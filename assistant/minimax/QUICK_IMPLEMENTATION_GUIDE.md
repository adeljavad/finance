# راهنمای سریع جایگزینی فایل‌ها و تست سیستم

## مرحله 1: بک‌آپ گیری از فایل‌های فعلی

ابتدا از فایل‌های فعلی بک‌آپ بگیرید:

```bash
# به مسیر پروژه Django خود بروید
cd /path/to/your/django/project

# بک‌آپ فایل‌های اصلی
cp assistant/templates/assistant/chat.html assistant/templates/assistant/chat_backup.html
cp assistant/static/assistant/js/chat.js assistant/static/assistant/js/chat_backup.js
cp assistant/services/data_manager.py assistant/services/data_manager_backup.py
cp assistant/services/agent_engine.py assistant/services/agent_engine_backup.py
cp assistant/views.py assistant/views_backup.py
```

## مرحله 2: جایگزینی فایل‌های بهبود یافته

### 2.1 فایل HTML جدید (فضای وسیع‌تر چت)
```bash
cp /workspace/improved_chat.html assistant/templates/assistant/chat.html
```

### 2.2 فایل‌های JavaScript بهبود یافته
```bash
cp /workspace/fixed_chat.js assistant/static/assistant/js/chat.js
```

### 2.3 فایل‌های Python بهبود یافته
```bash
cp /workspace/fixed_data_manager.py assistant/services/data_manager.py
cp /workspace/fixed_agent_engine.py assistant/services/agent_engine.py
cp /workspace/fixed_views.py assistant/views.py
```

## مرحله 3: ریستارت سرور Django

```bash
# اگر سرور در حال اجرا است، آن را متوقف کنید (Ctrl+C)
# سپس دوباره راه اندازی کنید
python manage.py runserver
```

## مرحله 4: تست سیستم

### 4.1 تست آپلود فایل
1. به صفحه چت بروید
2. یک فایل اکسل آپلود کنید
3. بررسی کنید که:
   - پیام موفقیت نمایش داده شود
   - تعداد فایل‌ها در نوار کناری نمایش داده شود
   - هیچ خطایی در console مرورگر نباشد

### 4.2 تست چت و گزارش
1. سوالات زیر را تست کنید:
   - "تراز آزمایشی نشان بده"
   - "جمع بدهکارها چقدر است؟"
   - "لیست اسناد بالای ۱۰ میلیون"
2. بررسی کنید که:
   - پاسخ‌ها در فضای وسیع چت نمایش داده شوند
   - جداول و دیتا درست نمایش داده شوند
   - سرعت پاسخ‌دهی مناسب باشد

### 4.3 تست دیباگ
1. روی دکمه "دیباگ سیستم" کلیک کنید
2. اطلاعات سیستم را بررسی کنید
3. مطمئن شوید که دیتا قابل دسترسی است

## مرحله 5: بررسی بهبودهای UI

### 5.1 فضای چت
- ✅ فضای نمایش پیام‌ها بزرگتر شده
- ✅ نوار کناری قابل جمع شدن
- ✅ پیام‌ها با فاصله بهتر نمایش داده می‌شوند
- ✅ جداول و محتوای طولانی بهتر نمایش داده می‌شوند

### 5.2 طراحی حرفه‌ای
- ✅ انیمیشن‌های نرم
- ✅ رنگ‌های بهتر
- ✅ آیکون‌های مناسب
- ✅ طراحی ریسپانسیو

## مرحله 6: عیب‌یابی مشکلات

اگر مشکلی پیش آمد، مراحل زیر را دنبال کنید:

### 6.1 بررسی Log‌ها
```bash
# در ترمینال سرور Django
# به دنبال خطاهای قرمز بگردید
```

### 6.2 بررسی Console مرورگر
1. F12 را فشار دهید
2. به تب Console بروید
3. خطاهای قرمز را بررسی کنید

### 6.3 تست Redis
اگر Redis متصل نیست، سیستم به فایل fallback می‌رود.

## مرحله 7: گزارش نتایج

لطفاً موارد زیر را گزارش دهید:

### ✅ موفقیت‌ها
- آیا فایل آپلود می‌شود؟
- آیا تعداد فایل‌ها نمایش داده می‌شود؟
- آیا گزارش تراز کار می‌کند؟
- آیا فضای چت بزرگتر شده؟
- آیا UI حرفه‌ای‌تر شده؟

### ❌ مشکلات
- اگر خطایی وجود دارد، لطفاً:
  1. پیام خطا را کپی کنید
  2. اسکرین‌شات بگیرید
  3. Console errors را ارسال کنید
  4. لاگ‌های سرور را ارسال کنید

## نکات مهم

1. **فضای بیشتر چت**: پیام‌ها حالا فضای بسیار بیشتری برای نمایش دارند
2. **نوار کناری قابل جمع**: با دکمه ☰ می‌توانید نوار کناری را جمع/باز کنید
3. **طراحی موبایل**: در موبایل نوار کناری به صورت overlay نمایش داده می‌شود
4. **انیمیشن‌ها**: تمام عناصر با انیمیشن نرم نمایش داده می‌شوند

## تماس با پشتیبانی

اگر مشکلی برطرف نشد، لطفاً اطلاعات زیر را ارسال کنید:
- نسخه Django
- نسخه Python  
- وضعیت Redis
- خطاهای دقیق
- اسکرین‌شات از مشکل