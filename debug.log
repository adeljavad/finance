2025-10-18 07:54:39,396 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: No module named 'langchain'
2025-10-18 07:54:39,423 - financial_system.views - WARNING - LangChain در دسترس نیست: No module named 'langchain'
2025-10-18 07:56:25,851 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: No module named 'langchain'
2025-10-18 07:56:25,866 - financial_system.views - WARNING - LangChain در دسترس نیست: No module named 'langchain'
2025-10-18 07:57:46,824 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: No module named 'langchain'
2025-10-18 07:57:46,845 - financial_system.views - WARNING - LangChain در دسترس نیست: No module named 'langchain'
2025-10-20 19:26:27,774 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-20 19:29:51,708 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-20 19:31:02,415 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-20 19:32:08,661 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 22:17:42,733 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 22:20:44,415 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 22:29:06,100 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 22:49:51,386 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 22:54:21,871 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 23:12:23,658 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 23:14:39,248 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 23:28:00,358 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 23:30:12,507 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 23:31:09,975 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 23:50:09,308 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 23:51:53,148 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-24 23:51:53,831 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 00:20:39,464 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 00:20:53,988 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 07:45:33,429 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 07:51:01,463 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 07:54:08,157 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 07:58:34,364 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 07:58:34,364 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:10:44,805 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:24:15,440 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:24:15,532 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:24:16,578 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:26:13,792 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:26:13,832 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:26:14,987 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:56:23,208 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:56:23,208 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:56:23,224 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 08:58:34,631 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 09:03:56,161 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 09:03:56,228 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 09:03:56,877 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 09:06:18,535 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 09:13:42,953 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 09:14:35,658 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 09:15:15,426 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 09:34:41,542 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 10:38:05,944 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 10:57:33,892 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 11:14:06,320 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 11:26:34,149 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 11:27:24,483 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 11:32:15,072 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 12:04:27,294 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 12:49:52,404 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 12:51:36,438 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 12:53:59,537 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 12:55:05,676 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 12:56:53,162 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 17:58:59,814 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 18:29:36,237 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 18:29:40,190 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 18:30:42,289 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 18:34:06,742 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 18:37:20,249 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 18:38:02,354 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 18:38:44,284 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 18:41:44,568 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 20:39:14,659 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 21:02:19,181 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-25 21:10:27,726 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 08:29:24,282 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 09:00:07,220 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 10:27:15,906 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 10:41:53,991 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 10:43:53,717 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 10:47:17,640 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 10:48:30,900 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 15:20:36,693 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 15:28:53,564 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 15:43:09,522 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 15:49:37,079 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 16:01:09,804 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 16:19:53,256 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 16:23:46,775 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 16:23:49,938 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 16:27:16,598 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 16:32:48,736 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 16:50:55,389 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 18:23:34,161 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 18:28:20,604 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 18:46:31,722 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 18:57:27,589 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 18:57:27,604 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 19:06:50,145 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 21:00:37,972 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 21:00:37,975 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 22:24:43,750 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 22:29:23,589 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 22:31:08,222 - financial_system.views - ERROR - خطا در پردازش سوال عمومی: ('08001', '[08001] [Microsoft][ODBC SQL Server Driver][DBNETLIB]SQL Server does not exist or access denied. (17) (SQLDriverConnect); [08001] [Microsoft][ODBC SQL Server Driver][DBNETLIB]ConnectionOpen (Connect()). (64)')
2025-10-26 22:38:24,338 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 22:38:28,417 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 22:40:10,184 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 22:41:34,696 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 22:48:04,742 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 22:52:18,799 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 22:56:31,918 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 23:26:44,203 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-26 23:36:30,001 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-27 08:01:18,682 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 07:35:04,313 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 07:39:00,604 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 13:08:36,573 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 13:09:26,237 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 13:10:04,200 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 13:22:29,379 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 13:23:13,360 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 13:23:16,656 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 14:07:18,250 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 14:07:18,255 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 16:07:31,021 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 16:48:01,921 - financial_system.views - ERROR - خطا در پردازش سوال عمومی: cannot access local variable 'response' where it is not associated with a value
2025-10-28 16:52:30,481 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: سیستم تحلیل مالی در حال حاضر در دسترس نیست. لطفاً بعداً تلاش کنید.
2025-10-28 17:01:27,326 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:03:03,441 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:03:34,105 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: سیستم تحلیل مالی در حال حاضر در دسترس نیست. لطفاً بعداً تلاش کنید.
2025-10-28 17:04:02,441 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: سیستم تحلیل مالی در حال حاضر در دسترس نیست. لطفاً بعداً تلاش کنید.
2025-10-28 17:05:32,522 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:05:32,543 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:05:32,648 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:05:32,651 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:07:27,499 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:07:27,553 - financial_system.core.setup - WARNING - ⚠️ خطا در بارگذاری ابزارهای مالی: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:07:27,555 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:07:27,666 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:07:27,672 - financial_system.core.setup - WARNING - ⚠️ خطا در بارگذاری ابزارهای مالی: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:07:27,676 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:07:57,761 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:07:57,763 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:07:57,768 - financial_system.core.setup - WARNING - ⚠️ خطا در بارگذاری ابزارهای مالی: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:07:57,769 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
لی: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:07:57,780 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:07:57,780 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:07:57,781 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:24:16,954 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:24:17,093 - financial_system.core.setup - INFO - ✅ 6 ابزار مالی بارگذاری شد
2025-10-28 17:24:17,170 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:24:17,255 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:24:40,560 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: متأسفانه ابزار مناسب برای پاسخ به این سوال یافت نشد.
2025-10-28 17:24:45,800 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: متأسفانه ابزار مناسب برای پاسخ به این سوال یافت نشد.
2025-10-28 17:24:48,191 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: متأسفانه ابزار مناسب برای پاسخ به این سوال یافت نشد.
2025-10-28 17:24:53,368 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: سلام, A: سیستم چت عمومی در حال حاضر در دسترس نیست. لطفاً از سوالات مالی استفاده کنید.
2025-10-28 17:26:42,468 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:26:42,606 - financial_system.core.setup - INFO - ✅ 6 ابزار مالی بارگذاری شد
2025-10-28 17:26:42,610 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:26:42,625 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:28:05,024 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:28:05,032 - financial_system.core.setup - INFO - ✅ 6 ابزار مالی بارگذاری شد
2025-10-28 17:28:05,039 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:28:05,041 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:28:05,062 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:28:05,071 - financial_system.core.setup - INFO - ✅ 6 ابزار مالی بارگذاری شد
2025-10-28 17:28:05,073 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:28:05,074 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:28:05,224 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:28:05,230 - financial_system.core.setup - INFO - ✅ 6 ابزار مالی بارگذاری شد
2025-10-28 17:28:05,231 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:28:05,232 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:28:33,934 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:28:33,941 - financial_system.core.setup - INFO - ✅ 6 ابزار مالی بارگذاری شد
2025-10-28 17:28:33,942 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:28:33,943 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:42:36,251 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:42:36,263 - financial_system.core.setup - INFO - ✅ 6 ابزار مالی بارگذاری شد
2025-10-28 17:42:36,265 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:42:36,267 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:43:13,106 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: 
        گزارش جامع مالی - شرکت 1 - دوره 1
        
        بخش ۱: صورت‌های مالی اصلی
        
        ۱.۱ ترازنامه:
        - مجموع دارایی‌ها: 10,000,000,000 ریال
        - مجموع بدهی‌ها: 6,000,000,000 ریال
        - حقوق صاحبان سهام: 4,000,000,000 ریال
        
        ۱.۲ صورت سود و زیان:
        - درآمد: 5,000,000,000 ریال
        - هزینه‌ها: 4,200,000,000 ریال
        - سود خالص: 800,000,000 ریال
        
        ۱.۳ صورت جریان نقدی:
        - جریان نقد عملیاتی: 750,000,000 ریال
        - جریان نقد سرمایه‌گذاری: -200,000,000 ریال
        - جریان نقد تأمین مالی: -100,000,000 ریال
        
        بخش ۲: تحلیل نسبت‌های مالی
        
        ۲.۱ نسبت‌های نقدینگی:
        - نسبت جاری: 2.1 (مطلوب)
        - نسبت آنی: 1.5 (مطلوب)
        
        ۲.۲ نسبت‌های اهرمی:
        - نسبت بدهی: 0.6 (متوسط)
        - نسبت بدهی به حقوق صاحبان سهام: 1.5 (مطلوب)
        
        ۲.۳ نسبت‌های سودآوری:
        - بازده دارایی‌ها: 8.0%
        - بازده حقوق صاحبان سهام: 20.0%
        - حاشیه سود خالص: 16.0%
        
        بخش ۳: تحلیل روند و پیش‌بینی
        
        ۳.۱ روند ۶ ماهه:
        - رشد درآمد: +15%
        - رشد سود: +20%
        - بهبود نقدینگی: +10%
        
        ۳.۲ پیش‌بینی ۳ ماه آینده:
        - درآمد پیش‌بینی: 5,500,000,000 ریال
        - سود پیش‌بینی: 900,000,000 ریال
        - نیاز به سرمایه‌گذاری: 300,000,000 ریال
        
        نتیجه‌گیری:
        وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص‌ها مشاهده می‌شود.
        توصیه می‌شود برای حفظ این روند، سرمایه‌گذاری در توسعه کسب‌وکار ادامه یابد.
        
2025-10-28 17:49:01,355 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: گردش مالی دوره جاری چقدر است؟, A: 
        گزارش جامع مالی - شرکت 1 - دوره 1
        
        بخش ۱: صورت‌های مالی اصلی
        
        ۱.۱ ترازنامه:
        - مجموع دارایی‌ها: 10,000,000,000 ریال
        - مجموع بدهی‌ها: 6,000,000,000 ریال
        - حقوق صاحبان سهام: 4,000,000,000 ریال
        
        ۱.۲ صورت سود و زیان:
        - درآمد: 5,000,000,000 ریال
        - هزینه‌ها: 4,200,000,000 ریال
        - سود خالص: 800,000,000 ریال
        
        ۱.۳ صورت جریان نقدی:
        - جریان نقد عملیاتی: 750,000,000 ریال
        - جریان نقد سرمایه‌گذاری: -200,000,000 ریال
        - جریان نقد تأمین مالی: -100,000,000 ریال
        
        بخش ۲: تحلیل نسبت‌های مالی
        
        ۲.۱ نسبت‌های نقدینگی:
        - نسبت جاری: 2.1 (مطلوب)
        - نسبت آنی: 1.5 (مطلوب)
        
        ۲.۲ نسبت‌های اهرمی:
        - نسبت بدهی: 0.6 (متوسط)
        - نسبت بدهی به حقوق صاحبان سهام: 1.5 (مطلوب)
        
        ۲.۳ نسبت‌های سودآوری:
        - بازده دارایی‌ها: 8.0%
        - بازده حقوق صاحبان سهام: 20.0%
        - حاشیه سود خالص: 16.0%
        
        بخش ۳: تحلیل روند و پیش‌بینی
        
        ۳.۱ روند ۶ ماهه:
        - رشد درآمد: +15%
        - رشد سود: +20%
        - بهبود نقدینگی: +10%
        
        ۳.۲ پیش‌بینی ۳ ماه آینده:
        - درآمد پیش‌بینی: 5,500,000,000 ریال
        - سود پیش‌بینی: 900,000,000 ریال
        - نیاز به سرمایه‌گذاری: 300,000,000 ریال
        
        نتیجه‌گیری:
        وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص‌ها مشاهده می‌شود.
        توصیه می‌شود برای حفظ این روند، سرمایه‌گذاری در توسعه کسب‌وکار ادامه یابد.
        
2025-10-28 17:51:25,115 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:51:25,172 - financial_system.core.setup - INFO - ✅ 6 ابزار مالی بارگذاری شد
2025-10-28 17:51:25,175 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:51:25,176 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:51:25,232 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 17:51:25,244 - financial_system.core.setup - INFO - ✅ 6 ابزار مالی بارگذاری شد
2025-10-28 17:51:25,245 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 17:51:25,246 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 17:52:21,082 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت های مالی آنی رو به من بده, A: 
            تحلیل نسبت‌های مالی برای شرکت 1 و دوره 1:
            
            - نسبت جاری: 2.1
            - نسبت آنی: 1.5  
            - بازده دارایی‌ها: 8.5%
            - بازده حقوق صاحبان سهام: 12.3%
            
            وضعیت: مطلوب
            
2025-10-28 17:57:38,555 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق رو به من بده, A: 
            گزارش ترازنامه - شرکت 1 - دوره 1
            
            خلاصه:
            - مجموع دارایی‌ها: 10,000,000,000 ریال
            - مجموع بدهی‌ها: 6,000,000,000 ریال
            - حقوق صاحبان سهام: 4,000,000,000 ریال
            - سود خالص: 500,000,000 ریال
            
            تاریخ تولید: امروز
            
2025-10-28 17:58:17,000 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: ریسک های مالی روبرای من شناسایی کن, A: 
            گزارش انحرافات مالی برای شرکت 1:
            
            - هیچ انحراف عمده‌ای شناسایی نشد
            - تمام معاملات در محدوده مجاز هستند
            - سیستم کنترل داخلی: قوی
            
            وضعیت: پاک
            
2025-10-28 22:09:43,084 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:09:43,267 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:09:43,335 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:09:43,373 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:10:08,461 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:10:08,515 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:10:08,515 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:10:08,516 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:11:02,962 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:11:03,022 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:11:03,026 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:11:03,047 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:14:16,568 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:14:16,607 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:14:16,608 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:14:16,608 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:37:26,622 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:37:26,690 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:37:26,692 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:37:26,701 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:38:51,055 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:38:51,190 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:38:51,194 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:38:51,195 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:39:46,447 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:39:46,482 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:39:46,484 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:39:46,485 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:41:25,396 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:41:25,471 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:41:25,473 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:41:25,475 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:42:54,082 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:42:54,155 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:42:54,157 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:42:54,161 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:44:11,591 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:57:03,021 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:57:03,045 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:57:03,047 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:57:03,049 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:57:40,681 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: خطا در محاسبه ترازنامه: Unsupported lookup 'startswith' for CharField or join on the field not permitted, perhaps you meant startswith or istartswith?
2025-10-28 22:59:39,755 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:59:39,785 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 22:59:39,801 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:59:39,806 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:59:39,807 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 22:59:39,808 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 22:59:39,811 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 22:59:39,812 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:00:57,994 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:00:58,022 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:00:58,046 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:00:58,052 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:00:58,052 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:00:58,057 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:00:58,056 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:00:58,058 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:02:10,819 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:02:10,871 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:02:10,886 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:02:10,887 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:02:11,147 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:02:11,157 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:02:11,158 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:02:11,159 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:02:48,484 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:02:48,537 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:02:48,538 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:02:48,540 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:02:48,604 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:02:48,611 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:02:48,612 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:02:48,612 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:04:05,403 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: 
        گزارش ترازنامه - شرکت 1 - دوره 1
        
        دارایی‌ها:
        - مجموع دارایی‌ها: -8,338,504,868,809 ریال
        
        بدهی‌ها و حقوق صاحبان سهام:
        - مجموع بدهی‌ها: 0 ریال
        - حقوق صاحبان سهام: 0 ریال
        - سود/زیان دوره: 0 ریال
        - حقوق صاحبان سهام نهایی: 0 ریال
        
        کنترل تراز: نامتعادل
        
        تاریخ تولید: امروز
        
2025-10-28 23:04:18,691 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: 
        تحلیل نسبت‌های مالی برای شرکت 1 و دوره 1:
        
        نسبت‌های نقدینگی:
        - نسبت جاری: 0.00 (ضعیف)
        - نسبت آنی: 0.00 (ضعیف)
        
        نسبت‌های سودآوری:
        - بازده دارایی‌ها: -0.0% (ضعیف)
        - بازده حقوق صاحبان سهام: 0.0% (ضعیف)
        - حاشیه سود خالص: 0.0%
        
        تحلیل کلی:
        - وضعیت نقدینگی: ضعیف
        - وضعیت سودآوری: ضعیف
        - وضعیت کلی: نیازمند توجه
        
        تاریخ تحلیل: امروز
        
2025-10-28 23:04:24,101 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: 
        گزارش ترازنامه - شرکت 1 - دوره 1
        
        دارایی‌ها:
        - مجموع دارایی‌ها: -8,338,504,868,809 ریال
        
        بدهی‌ها و حقوق صاحبان سهام:
        - مجموع بدهی‌ها: 0 ریال
        - حقوق صاحبان سهام: 0 ریال
        - سود/زیان دوره: 0 ریال
        - حقوق صاحبان سهام نهایی: 0 ریال
        
        کنترل تراز: نامتعادل
        
        تاریخ تولید: امروز
        
2025-10-28 23:11:37,238 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:11:37,252 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:11:37,257 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:11:37,259 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:11:37,262 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:11:37,285 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:11:37,294 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:11:37,296 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:12:35,421 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:12:35,429 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:12:35,431 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:12:35,434 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:12:35,461 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:12:35,473 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:12:35,474 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:12:35,475 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:13:08,587 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:13:08,593 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:13:08,594 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:13:08,597 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:13:08,685 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:13:08,691 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:13:08,691 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:13:08,692 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:14:29,428 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:14:29,440 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:14:29,441 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:14:29,442 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:14:29,579 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:14:29,591 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:14:29,592 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:14:29,593 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:15:01,239 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:15:01,244 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:15:01,250 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:15:01,252 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:15:01,266 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:15:01,276 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:15:01,276 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:15:01,278 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:18:33,332 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:18:33,339 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:18:33,340 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:18:33,341 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:18:33,438 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:18:33,449 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:18:33,449 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:18:33,450 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:29:49,243 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی های جاری شرکت رو انجام  بده, A: 
        گزارش ترازنامه - شرکت 1 - دوره 1
        
        دارایی‌ها:
        - مجموع دارایی‌ها: -8,338,504,868,809 ریال
        
        بدهی‌ها و حقوق صاحبان سهام:
        - مجموع بدهی‌ها: 0 ریال
        - حقوق صاحبان سهام: 0 ریال
        - سود/زیان دوره: 0 ریال
        - حقوق صاحبان سهام نهایی: 0 ریال
        
        کنترل تراز: نامتعادل
        
        تاریخ تولید: امروز
        
2025-10-28 23:37:40,312 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:37:40,321 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:37:40,321 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:37:40,322 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:37:40,516 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:37:40,523 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:37:40,524 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:37:40,524 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:38:22,809 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:38:22,818 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:38:22,818 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:38:22,820 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:38:22,875 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:38:22,884 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:38:22,885 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:38:22,886 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:38:43,081 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:41:42,501 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:41:42,507 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-28 23:41:42,510 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:41:42,511 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:41:42,512 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-28 23:41:42,516 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-28 23:41:42,518 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-28 23:41:42,518 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 08:16:04,960 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 08:16:05,015 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 08:16:05,017 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 08:16:05,018 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 08:33:07,865 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: یک تراز کل چهار ستونی به من بده, A: سیستم چت عمومی در حال حاضر در دسترس نیست. لطفاً از سوالات مالی استفاده کنید.
2025-10-29 08:58:09,451 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 08:58:09,484 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 08:58:09,485 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 08:58:09,486 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 08:58:50,877 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: برای من یک تراز 4 ستونی کل بگیر, A: سیستم چت عمومی در حال حاضر در دسترس نیست. لطفاً از سوالات مالی استفاده کنید.
2025-10-29 08:59:00,708 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز چهار ستونی, A: سیستم چت عمومی در حال حاضر در دسترس نیست. لطفاً از سوالات مالی استفاده کنید.
2025-10-29 08:59:39,459 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: یک تراز کل چهار ستونی به من بده, A: سیستم چت عمومی در حال حاضر در دسترس نیست. لطفاً از سوالات مالی استفاده کنید.
2025-10-29 09:02:29,975 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:02:29,991 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:02:30,020 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:02:30,023 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:02:30,113 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:02:30,129 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:02:30,134 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:02:30,136 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:03:11,239 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:03:11,239 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:03:11,248 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:03:11,253 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:03:11,254 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:03:11,258 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:03:11,258 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:03:11,260 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:06:36,462 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:06:36,475 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:06:36,475 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:06:36,482 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:07:17,843 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: به من یک تراز چهار ستونی بده, A: 
        تراز کل چهارستونی - شرکت 1 - فصل بهار
        
        ساختار چهارستونی:
        
        | سرفصل حساب | مانده ابتدای دوره | گردش بدهکار | گردش بستانکار | مانده انتهای دوره |
        |-------------|------------------|-------------|---------------|-------------------|
        | صندوق       | 50,000,000      | 25,000,000  | 15,000,000    | 60,000,000        |
        | بانک        | 200,000,000     | 80,000,000  | 60,000,000    | 220,000,000       |
        | حساب‌های دریافتنی | 150,000,000 | 40,000,000  | 30,000,000    | 160,000,000       |
        | موجودی کالا | 300,000,000     | 100,000,000 | 80,000,000    | 320,000,000       |
        | حساب‌های پرداختنی | 180,000,000 | 45,000,000  | 55,000,000    | 190,000,000       |
        | وام بانکی   | 400,000,000     | 0           | 20,000,000    | 380,000,000       |
        | سرمایه     | 500,000,000     | 0           | 50,000,000    | 550,000,000       |
        
        جمع کل: 1,780,000,000 ریال
        
        تاریخ تولید: امروز
        دوره: فصل بهار
        
2025-10-29 09:08:03,725 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: به من یک تراز چهار ستونی  برای پاییز بده, A: 
        تراز کل چهارستونی - شرکت 1 - فصل پاییز
        
        ساختار چهارستونی:
        
        | سرفصل حساب | مانده ابتدای دوره | گردش بدهکار | گردش بستانکار | مانده انتهای دوره |
        |-------------|------------------|-------------|---------------|-------------------|
        | صندوق       | 50,000,000      | 25,000,000  | 15,000,000    | 60,000,000        |
        | بانک        | 200,000,000     | 80,000,000  | 60,000,000    | 220,000,000       |
        | حساب‌های دریافتنی | 150,000,000 | 40,000,000  | 30,000,000    | 160,000,000       |
        | موجودی کالا | 300,000,000     | 100,000,000 | 80,000,000    | 320,000,000       |
        | حساب‌های پرداختنی | 180,000,000 | 45,000,000  | 55,000,000    | 190,000,000       |
        | وام بانکی   | 400,000,000     | 0           | 20,000,000    | 380,000,000       |
        | سرمایه     | 500,000,000     | 0           | 50,000,000    | 550,000,000       |
        
        جمع کل: 1,780,000,000 ریال
        
        تاریخ تولید: امروز
        دوره: فصل پاییز
        
2025-10-29 09:11:23,789 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:11:23,859 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:11:23,859 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:11:23,859 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:11:23,939 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:11:23,939 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:11:23,939 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:11:23,958 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:11:24,022 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:11:24,022 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:11:24,022 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:11:24,036 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:13:12,537 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:13:12,573 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:13:12,598 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:13:12,600 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:13:12,602 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:13:12,605 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:13:12,605 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:13:12,622 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:13:12,738 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:13:12,755 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:13:12,755 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:13:12,755 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:15:15,607 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 09:15:15,638 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 09:15:15,645 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 09:15:15,649 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 09:15:45,945 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز چهار ستونی, A: 
        تراز کل چهارستونی - شرکت 1 - فصل بهار
        
        ساختار چهارستونی:
        
        | سرفصل حساب | مانده ابتدای دوره | گردش بدهکار | گردش بستانکار | مانده انتهای دوره |
        |-------------|------------------|-------------|---------------|-------------------|
        
        
        جمع کل:
        - مانده ابتدای دوره: 0 ریال
        - گردش بدهکار: 0 ریال
        - گردش بستانکار: 0 ریال
        - مانده انتهای دوره: 0 ریال
        
        تاریخ تولید: امروز
        دوره: فصل بهار
        
2025-10-29 13:00:27,811 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 13:00:27,856 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 13:00:27,858 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 13:00:27,859 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 13:10:52,570 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 13:10:52,570 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 13:10:52,570 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 13:10:52,570 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 13:11:46,494 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 13:11:46,519 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 13:11:46,520 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 13:11:46,520 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 13:20:09,659 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 13:20:09,675 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 13:20:09,675 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 13:20:09,675 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 13:25:30,800 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: همه سند ها را حذف کن, A: 
        گزارش جامع مالی - شرکت 1 - دوره 1
        
        بخش ۱: صورت‌های مالی اصلی
        
        ۱.۱ ترازنامه:
        - مجموع دارایی‌ها: 10,000,000,000 ریال
        - مجموع بدهی‌ها: 6,000,000,000 ریال
        - حقوق صاحبان سهام: 4,000,000,000 ریال
        
        ۱.۲ صورت سود و زیان:
        - درآمد: 5,000,000,000 ریال
        - هزینه‌ها: 4,200,000,000 ریال
        - سود خالص: 800,000,000 ریال
        
        ۱.۳ صورت جریان نقدی:
        - جریان نقد عملیاتی: 750,000,000 ریال
        - جریان نقد سرمایه‌گذاری: -200,000,000 ریال
        - جریان نقد تأمین مالی: -100,000,000 ریال
        
        بخش ۲: تحلیل نسبت‌های مالی
        
        ۲.۱ نسبت‌های نقدینگی:
        - نسبت جاری: 2.1 (مطلوب)
        - نسبت آنی: 1.5 (مطلوب)
        
        ۲.۲ نسبت‌های اهرمی:
        - نسبت بدهی: 0.6 (متوسط)
        - نسبت بدهی به حقوق صاحبان سهام: 1.5 (مطلوب)
        
        ۲.۳ نسبت‌های سودآوری:
        - بازده دارایی‌ها: 8.0%
        - بازده حقوق صاحبان سهام: 20.0%
        - حاشیه سود خالص: 16.0%
        
        بخش ۳: تحلیل روند و پیش‌بینی
        
        ۳.۱ روند ۶ ماهه:
        - رشد درآمد: +15%
        - رشد سود: +20%
        - بهبود نقدینگی: +10%
        
        ۳.۲ پیش‌بینی ۳ ماه آینده:
        - درآمد پیش‌بینی: 5,500,000,000 ریال
        - سود پیش‌بینی: 900,000,000 ریال
        - نیاز به سرمایه‌گذاری: 300,000,000 ریال
        
        نتیجه‌گیری:
        وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص‌ها مشاهده می‌شود.
        توصیه می‌شود برای حفظ این روند، سرمایه‌گذاری در توسعه کسب‌وکار ادامه یابد.
        
2025-10-29 14:30:49,291 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 14:30:49,332 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 14:30:49,336 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 14:30:49,339 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 16:20:47,026 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: سند شماره یک را به من بده, A: 
        گزارش جامع مالی - شرکت 1 - دوره 1
        
        بخش ۱: صورت‌های مالی اصلی
        
        ۱.۱ ترازنامه:
        - مجموع دارایی‌ها: 10,000,000,000 ریال
        - مجموع بدهی‌ها: 6,000,000,000 ریال
        - حقوق صاحبان سهام: 4,000,000,000 ریال
        
        ۱.۲ صورت سود و زیان:
        - درآمد: 5,000,000,000 ریال
        - هزینه‌ها: 4,200,000,000 ریال
        - سود خالص: 800,000,000 ریال
        
        ۱.۳ صورت جریان نقدی:
        - جریان نقد عملیاتی: 750,000,000 ریال
        - جریان نقد سرمایه‌گذاری: -200,000,000 ریال
        - جریان نقد تأمین مالی: -100,000,000 ریال
        
        بخش ۲: تحلیل نسبت‌های مالی
        
        ۲.۱ نسبت‌های نقدینگی:
        - نسبت جاری: 2.1 (مطلوب)
        - نسبت آنی: 1.5 (مطلوب)
        
        ۲.۲ نسبت‌های اهرمی:
        - نسبت بدهی: 0.6 (متوسط)
        - نسبت بدهی به حقوق صاحبان سهام: 1.5 (مطلوب)
        
        ۲.۳ نسبت‌های سودآوری:
        - بازده دارایی‌ها: 8.0%
        - بازده حقوق صاحبان سهام: 20.0%
        - حاشیه سود خالص: 16.0%
        
        بخش ۳: تحلیل روند و پیش‌بینی
        
        ۳.۱ روند ۶ ماهه:
        - رشد درآمد: +15%
        - رشد سود: +20%
        - بهبود نقدینگی: +10%
        
        ۳.۲ پیش‌بینی ۳ ماه آینده:
        - درآمد پیش‌بینی: 5,500,000,000 ریال
        - سود پیش‌بینی: 900,000,000 ریال
        - نیاز به سرمایه‌گذاری: 300,000,000 ریال
        
        نتیجه‌گیری:
        وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص‌ها مشاهده می‌شود.
        توصیه می‌شود برای حفظ این روند، سرمایه‌گذاری در توسعه کسب‌وکار ادامه یابد.
        
2025-10-29 18:35:45,983 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 18:35:45,999 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 18:35:46,000 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 18:35:46,002 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 18:44:38,119 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 18:44:38,133 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 18:44:38,136 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 18:44:38,138 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 18:52:14,529 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 18:52:14,544 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 18:52:14,546 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 18:52:14,548 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 19:18:40,321 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 19:18:40,344 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 19:18:40,348 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 19:18:40,353 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 19:39:26,994 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 19:39:27,002 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 19:39:27,002 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 19:39:27,003 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 19:45:27,319 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 19:45:27,357 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 19:45:27,431 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 19:45:27,437 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 19:45:57,845 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 19:45:57,852 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 19:45:57,853 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 19:45:57,854 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 20:51:46,538 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 20:51:46,603 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 20:51:46,607 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 20:51:46,608 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-29 20:52:19,059 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-29 20:52:19,073 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-29 20:52:19,077 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-29 20:52:19,089 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 08:47:14,452 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 08:47:14,536 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 08:47:14,539 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 08:47:14,540 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 12:11:35,228 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 12:24:10,361 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 12:24:10,380 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 12:24:10,381 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 12:24:10,383 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 12:27:42,748 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 12:27:42,774 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 12:27:42,774 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 12:27:42,774 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 12:28:54,955 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 12:28:54,971 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 12:28:54,971 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 12:28:54,971 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 12:32:14,467 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل چهار ستونی رو به من بده, A: 
        تراز کل چهارستونی - شرکت 1 - فصل بهار
        
        ساختار چهارستونی:
        
        | سرفصل حساب | مانده ابتدای دوره | گردش بدهکار | گردش بستانکار | مانده انتهای دوره |
        |-------------|------------------|-------------|---------------|-------------------|
        
        
        جمع کل:
        - مانده ابتدای دوره: 0 ریال
        - گردش بدهکار: 0 ریال
        - گردش بستانکار: 0 ریال
        - مانده انتهای دوره: 0 ریال
        
        تاریخ تولید: امروز
        دوره: فصل بهار
        
2025-10-31 12:45:06,995 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 12:45:07,001 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 12:45:07,002 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 12:45:07,003 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 12:46:06,474 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 12:46:06,487 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 12:46:06,488 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 12:46:06,489 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 12:51:44,748 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 12:51:44,761 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 12:51:44,761 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 12:51:44,770 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 12:56:10,590 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 12:56:10,614 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 12:56:10,614 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 12:56:10,616 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 13:06:08,770 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 13:06:08,795 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 13:06:08,796 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 13:06:08,820 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 13:08:29,822 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 13:08:29,838 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 13:08:29,838 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 13:08:29,838 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 13:46:06,996 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 13:46:07,005 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 13:46:07,007 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 13:46:07,011 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 13:46:47,641 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 13:46:47,653 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 13:46:47,656 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 13:46:47,657 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 13:47:42,410 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 13:47:42,428 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 13:47:42,428 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 13:47:42,441 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 15:34:19,839 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل چهار ستونی بهمن بده, A: 
        📊 مقایسه نسبت آنی - شرکت 1
        
        | دوره | مقدار | تغییر |
        |------|-------|--------|
        | دوره 1 | 0.00 | - |
        | دوره 2 | 0.00 | +0.00 (+0.0%) |
        
        تحلیل:
        - نسبت آنی در دوره 2 نسبت به دوره 1 کاهش یافته است
        - روند: منفی
        - میزان تغییر: +0.0%
        - توصیه: بررسی علل کاهش
        
2025-10-31 15:51:17,236 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 15:51:17,253 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 15:51:17,253 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 15:51:17,253 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 15:51:55,377 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 15:51:55,392 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 15:51:55,398 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 15:51:55,399 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 17:03:52,184 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 17:03:52,210 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 17:03:52,213 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 17:03:52,215 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 18:42:52,829 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 18:42:52,965 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 18:42:52,973 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 18:42:52,978 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 18:45:44,187 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 18:45:44,203 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 18:45:44,204 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 18:45:44,206 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 18:52:16,194 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: به من تراز در سطح  گروه حسابها بده, A: 
        گزارش ترازنامه - شرکت 1 - دوره 1
        
        دارایی‌ها:
        - مجموع دارایی‌ها: -1,634,266,413,436 ریال
        
        بدهی‌ها و حقوق صاحبان سهام:
        - مجموع بدهی‌ها: 0 ریال
        - حقوق صاحبان سهام: 2,727,405,288 ریال
        - سود/زیان دوره: -2,088,035,070,461 ریال
        - حقوق صاحبان سهام نهایی: -2,085,307,665,173 ریال
        
        کنترل تراز: نامتعادل
        
        تاریخ تولید: امروز
        
2025-10-31 19:14:35,312 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 19:14:35,402 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 19:14:35,404 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 19:14:35,406 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 19:16:38,306 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 19:16:38,348 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 19:16:38,350 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 19:16:38,350 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 19:17:49,525 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 19:17:49,564 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 19:17:49,566 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 19:17:49,567 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 20:09:54,292 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 20:09:54,292 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 20:09:54,302 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 20:09:54,302 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 20:12:51,197 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 20:12:51,202 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 20:12:51,207 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 20:12:51,207 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 20:22:23,207 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 20:22:23,212 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 20:22:23,217 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 20:22:23,217 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-10-31 20:23:21,090 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-10-31 20:23:21,092 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-10-31 20:23:21,092 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-10-31 20:23:21,092 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 08:53:02,431 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 08:53:02,477 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 08:53:02,477 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 08:53:02,477 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 09:15:55,426 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 09:15:55,459 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 09:15:55,464 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 09:15:55,476 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 09:16:19,507 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 09:16:19,543 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 09:16:19,556 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 09:16:19,569 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 09:17:02,461 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز چهارستونی کل رو به من بده, A: 
        تراز کل چهارستونی - شرکت 1 - فصل بهار
        
        ساختار چهارستونی:
        
        | سرفصل حساب | مانده ابتدای دوره | گردش بدهکار | گردش بستانکار | مانده انتهای دوره |
        |-------------|------------------|-------------|---------------|-------------------|
        | داراییهای جاری | 0 | 1,234,068,219,422 | 2,868,334,632,858 | -1,634,266,413,436 |
| موجودی نقد و بانک | 0 | 149,764 | 0 | 149,764 |
| اسناد دریافتنی | 0 | 91,150,000,000 | 59,450,000,000 | 31,700,000,000 |
| پیش پرداختها | 0 | 0 | 1,485,899,367,970 | -1,485,899,367,970 |
| سپرده ها | 0 | 0 | 1,043,277,525 | -1,043,277,525 |
| سایر دارایی ها | 0 | 4,326,321,276 | 7,053,726,564 | -2,727,405,288 |
| بدهیهای جاری | 0 | 2,615,672,348,225 | 568,868,437,663 | 2,046,803,910,562 |
| اسناد پرداختنی | 0 | 36,800,000,000 | 40,884,980,000 | -4,084,980,000 |
| بستانکاران تجاری | 0 | 316,740,405,854 | 410,657,174,285 | -93,916,768,431 |
| سایر بستانکاران | 0 | 1,616,669,821,315 | 103,106,833,378 | 1,513,562,987,937 |
| پیش دریافتها | 0 | 645,462,121,056 | 0 | 645,462,121,056 |
| بدهیهای غیر جاری | 0 | 41,817,577,756 | 586,417,857 | 41,231,159,899 |
| ذخایر | 0 | 0 | 561,417,857 | -561,417,857 |
| حقوق صاحبان سهام | 0 | 5,442,905,491 | 5,297,423,024 | 145,482,467 |
| اندوخته ها وسودوزیان انباشته | 0 | 114,272,840 | 3,501,027,983 | -3,386,755,143 |
| درآمد | 0 | 26,957,899,308 | 486,395,993,309 | -459,438,094,001 |
| درآمدهای عملیاتی | 0 | 26,957,899,308 | 486,395,957,939 | -459,438,058,631 |
| درآمدهای غیر عملیاتی | 0 | 0 | 35,370 | -35,370 |
| هزینه | 0 | 8,251,359,797 | 0 | 8,251,359,797 |
| هزینه های کارخانه | 0 | 4,956,104,993 | 0 | 4,956,104,993 |
| هزینه های دفترتهران | 0 | 3,295,254,804 | 0 | 3,295,254,804 |
        
        جمع کل:
        - مانده ابتدای دوره: 0 ریال
        - گردش بدهکار: 6,678,682,661,209 ریال
        - گردش بستانکار: 6,528,036,703,582 ریال
        - مانده انتهای دوره: 150,645,957,627 ریال
        
        تاریخ تولید: امروز
        دوره: فصل بهار
        
2025-11-01 09:18:55,237 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 09:18:55,237 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 09:18:55,237 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 09:18:55,237 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 09:18:55,262 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 09:18:55,273 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 09:18:55,273 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 09:18:55,284 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 09:19:49,312 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 09:19:49,312 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 09:19:49,312 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 09:19:49,312 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 09:19:49,350 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 09:19:49,365 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 09:19:49,365 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 09:19:49,365 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 09:20:19,078 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز چهارستونی کل رو به من بده, A: 
        تراز کل چهارستونی - شرکت 1 - فصل بهار
        
        ساختار چهارستونی:
        
        | سرفصل حساب | مانده ابتدای دوره | گردش بدهکار | گردش بستانکار | مانده انتهای دوره |
        |-------------|------------------|-------------|---------------|-------------------|
        | داراییهای جاری | 0 | 1,234,068,219,422 | 2,868,334,632,858 | -1,634,266,413,436 |
| موجودی نقد و بانک | 0 | 149,764 | 0 | 149,764 |
| اسناد دریافتنی | 0 | 91,150,000,000 | 59,450,000,000 | 31,700,000,000 |
| پیش پرداختها | 0 | 0 | 1,485,899,367,970 | -1,485,899,367,970 |
| سپرده ها | 0 | 0 | 1,043,277,525 | -1,043,277,525 |
| سایر دارایی ها | 0 | 4,326,321,276 | 7,053,726,564 | -2,727,405,288 |
| بدهیهای جاری | 0 | 2,615,672,348,225 | 568,868,437,663 | 2,046,803,910,562 |
| اسناد پرداختنی | 0 | 36,800,000,000 | 40,884,980,000 | -4,084,980,000 |
| بستانکاران تجاری | 0 | 316,740,405,854 | 410,657,174,285 | -93,916,768,431 |
| سایر بستانکاران | 0 | 1,616,669,821,315 | 103,106,833,378 | 1,513,562,987,937 |
| پیش دریافتها | 0 | 645,462,121,056 | 0 | 645,462,121,056 |
| بدهیهای غیر جاری | 0 | 41,817,577,756 | 586,417,857 | 41,231,159,899 |
| ذخایر | 0 | 0 | 561,417,857 | -561,417,857 |
| حقوق صاحبان سهام | 0 | 5,442,905,491 | 5,297,423,024 | 145,482,467 |
| اندوخته ها وسودوزیان انباشته | 0 | 114,272,840 | 3,501,027,983 | -3,386,755,143 |
| درآمد | 0 | 26,957,899,308 | 486,395,993,309 | -459,438,094,001 |
| درآمدهای عملیاتی | 0 | 26,957,899,308 | 486,395,957,939 | -459,438,058,631 |
| درآمدهای غیر عملیاتی | 0 | 0 | 35,370 | -35,370 |
| هزینه | 0 | 8,251,359,797 | 0 | 8,251,359,797 |
| هزینه های کارخانه | 0 | 4,956,104,993 | 0 | 4,956,104,993 |
| هزینه های دفترتهران | 0 | 3,295,254,804 | 0 | 3,295,254,804 |
        
        جمع کل:
        - مانده ابتدای دوره: 0 ریال
        - گردش بدهکار: 6,678,682,661,209 ریال
        - گردش بستانکار: 6,528,036,703,582 ریال
        - مانده انتهای دوره: 150,645,957,627 ریال
        
        تاریخ تولید: امروز
        دوره: فصل بهار
        
2025-11-01 09:20:19,124 - financial_system.views - ERROR - خطا در پردازش سوال مالی: In order to allow non-dict objects to be serialized set the safe parameter to False.
2025-11-01 09:20:19,173 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز چهارستونی کل رو به من بده, A: خطا در پردازش سوال مالی: In order to allow non-dict objects to be serialized set the safe parameter to False.
2025-11-01 09:22:33,269 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 09:22:33,286 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 09:22:33,299 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 09:22:33,304 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 09:22:33,301 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 09:22:33,310 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 09:22:33,311 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 09:22:33,312 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 09:22:58,185 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز برای حسابهای کل به من بده, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 09:23:48,665 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز در سطح حسابهای معین به من بده, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 09:24:12,440 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز در سطح گروه  حسابها به من بده, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 09:25:53,749 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.7658925921976166989866658'), 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56479053215064383199949'), 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.0144167052953782033883243'), 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.7658925921976166989866658'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56479053215064383199949'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 09:26:20,536 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 09:26:26,019 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 09:26:31,618 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: گردش مالی دوره جاری چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 09:27:11,966 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: شناسایی ریسک‌های مالی اصلی, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-01 10:01:22,025 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 10:01:22,083 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 10:01:22,083 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 10:01:22,083 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 10:01:22,119 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 10:01:22,135 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 10:01:22,135 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 10:01:22,135 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 10:05:43,027 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 10:05:43,044 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 10:05:43,094 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 10:05:43,094 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 10:05:43,094 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 10:05:43,094 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 10:05:43,094 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 10:05:43,094 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 10:25:38,705 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 10:25:38,740 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 10:25:38,744 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 10:25:38,756 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 10:26:15,237 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل صورت‌های مالی, A: 
        گزارش جامع مالی - شرکت 1 - دوره 1
        
        بخش ۱: صورت‌های مالی اصلی
        
        ۱.۱ ترازنامه:
        - مجموع دارایی‌ها: 10,000,000,000 ریال
        - مجموع بدهی‌ها: 6,000,000,000 ریال
        - حقوق صاحبان سهام: 4,000,000,000 ریال
        
        ۱.۲ صورت سود و زیان:
        - درآمد: 5,000,000,000 ریال
        - هزینه‌ها: 4,200,000,000 ریال
        - سود خالص: 800,000,000 ریال
        
        ۱.۳ صورت جریان نقدی:
        - جریان نقد عملیاتی: 750,000,000 ریال
        - جریان نقد سرمایه‌گذاری: -200,000,000 ریال
        - جریان نقد تأمین مالی: -100,000,000 ریال
        
        بخش ۲: تحلیل نسبت‌های مالی
        
        ۲.۱ نسبت‌های نقدینگی:
        - نسبت جاری: 2.1 (مطلوب)
        - نسبت آنی: 1.5 (مطلوب)
        
        ۲.۲ نسبت‌های اهرمی:
        - نسبت بدهی: 0.6 (متوسط)
        - نسبت بدهی به حقوق صاحبان سهام: 1.5 (مطلوب)
        
        ۲.۳ نسبت‌های سودآوری:
        - بازده دارایی‌ها: 8.0%
        - بازده حقوق صاحبان سهام: 20.0%
        - حاشیه سود خالص: 16.0%
        
        بخش ۳: تحلیل روند و پیش‌بینی
        
        ۳.۱ روند ۶ ماهه:
        - رشد درآمد: +15%
        - رشد سود: +20%
        - بهبود نقدینگی: +10%
        
        ۳.۲ پیش‌بینی ۳ ماه آینده:
        - درآمد پیش‌بینی: 5,500,000,000 ریال
        - سود پیش‌بینی: 900,000,000 ریال
        - نیاز به سرمایه‌گذاری: 300,000,000 ریال
        
        نتیجه‌گیری:
        وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص‌ها مشاهده می‌شود.
        توصیه می‌شود برای حفظ این روند، سرمایه‌گذاری در توسعه کسب‌وکار ادامه یابد.
        
2025-11-01 10:26:20,759 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.7658925921976166989866658'), 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56479053215064383199949'), 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.0144167052953782033883243'), 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.7658925921976166989866658'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56479053215064383199949'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 10:26:30,287 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.7658925921976166989866658'), 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56479053215064383199949'), 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.0144167052953782033883243'), 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.7658925921976166989866658'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56479053215064383199949'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 10:26:37,224 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 10:26:42,976 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 10:26:49,999 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: گردش مالی دوره جاری چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 10:27:11,443 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: شناسایی ریسک‌های مالی اصلی, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-01 11:00:01,177 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:00:01,215 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:00:01,228 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:00:01,240 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:00:01,469 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:00:01,490 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:00:01,493 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:00:01,494 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:00:01,549 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:00:01,594 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:00:01,610 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:00:01,613 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:00:54,562 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:00:54,623 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:00:54,631 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:00:54,631 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:00:54,638 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:00:54,639 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:00:54,643 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:00:54,643 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:00:54,644 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:00:54,654 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:00:54,655 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:00:54,660 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:01:39,339 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:01:39,349 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:01:39,390 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:01:39,390 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:01:39,390 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:01:39,402 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:01:39,413 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:01:39,470 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:01:39,509 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:01:39,624 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:01:39,626 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:01:39,628 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:28:49,270 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری رو به من بده, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.7658925921976166989866658'), 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56479053215064383199949'), 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.0144167052953782033883243'), 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.7658925921976166989866658'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56479053215064383199949'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 11:32:33,762 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:32:33,792 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:32:33,820 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:32:33,820 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:32:33,824 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:32:33,828 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:32:33,831 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:32:33,832 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:32:34,006 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:32:34,012 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:32:34,012 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:32:34,012 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:33:32,530 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:33:32,540 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:33:32,601 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:33:32,601 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:33:32,610 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:33:32,610 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:33:32,610 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:33:32,625 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:33:32,810 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:33:32,820 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:33:32,820 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:33:32,825 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:41:42,445 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 11:41:42,450 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 11:41:42,460 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 11:41:42,467 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 11:42:58,802 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت های مالی رو برای من محاسبه کن, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 11:44:03,406 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل به من بده, A: 
        تراز کل چهارستونی - شرکت 1 - فصل بهار
        
        ساختار چهارستونی:
        
        | سرفصل حساب | مانده ابتدای دوره | گردش بدهکار | گردش بستانکار | مانده انتهای دوره |
        |-------------|------------------|-------------|---------------|-------------------|
        | داراییهای جاری | 0 | 1,234,068,219,422 | 2,868,334,632,858 | -1,634,266,413,436 |
| موجودی نقد و بانک | 0 | 149,764 | 0 | 149,764 |
| اسناد دریافتنی | 0 | 91,150,000,000 | 59,450,000,000 | 31,700,000,000 |
| پیش پرداختها | 0 | 0 | 1,485,899,367,970 | -1,485,899,367,970 |
| سپرده ها | 0 | 0 | 1,043,277,525 | -1,043,277,525 |
| سایر دارایی ها | 0 | 4,326,321,276 | 7,053,726,564 | -2,727,405,288 |
| بدهیهای جاری | 0 | 2,615,672,348,225 | 568,868,437,663 | 2,046,803,910,562 |
| اسناد پرداختنی | 0 | 36,800,000,000 | 40,884,980,000 | -4,084,980,000 |
| بستانکاران تجاری | 0 | 316,740,405,854 | 410,657,174,285 | -93,916,768,431 |
| سایر بستانکاران | 0 | 1,616,669,821,315 | 103,106,833,378 | 1,513,562,987,937 |
| پیش دریافتها | 0 | 645,462,121,056 | 0 | 645,462,121,056 |
| بدهیهای غیر جاری | 0 | 41,817,577,756 | 586,417,857 | 41,231,159,899 |
| ذخایر | 0 | 0 | 561,417,857 | -561,417,857 |
| حقوق صاحبان سهام | 0 | 5,442,905,491 | 5,297,423,024 | 145,482,467 |
| اندوخته ها وسودوزیان انباشته | 0 | 114,272,840 | 3,501,027,983 | -3,386,755,143 |
| درآمد | 0 | 26,957,899,308 | 486,395,993,309 | -459,438,094,001 |
| درآمدهای عملیاتی | 0 | 26,957,899,308 | 486,395,957,939 | -459,438,058,631 |
| درآمدهای غیر عملیاتی | 0 | 0 | 35,370 | -35,370 |
| هزینه | 0 | 8,251,359,797 | 0 | 8,251,359,797 |
| هزینه های کارخانه | 0 | 4,956,104,993 | 0 | 4,956,104,993 |
| هزینه های دفترتهران | 0 | 3,295,254,804 | 0 | 3,295,254,804 |
        
        جمع کل:
        - مانده ابتدای دوره: 0 ریال
        - گردش بدهکار: 6,678,682,661,209 ریال
        - گردش بستانکار: 6,528,036,703,582 ریال
        - مانده انتهای دوره: 150,645,957,627 ریال
        
        تاریخ تولید: امروز
        دوره: فصل بهار
        
2025-11-01 12:24:54,586 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 12:24:54,609 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 12:24:54,611 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 12:24:54,612 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 12:29:49,789 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت های مالی رو به من بده, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 12:32:11,483 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 12:32:40,615 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: گردش مالی دوره جاری چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 12:41:59,660 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت آنی, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 12:53:09,609 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: حالت چطوره, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-01 12:53:29,635 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل به من بده, A: 
        تراز کل چهارستونی - شرکت 1 - فصل بهار
        
        ساختار چهارستونی:
        
        | سرفصل حساب | مانده ابتدای دوره | گردش بدهکار | گردش بستانکار | مانده انتهای دوره |
        |-------------|------------------|-------------|---------------|-------------------|
        | داراییهای جاری | 0 | 1,234,068,219,422 | 2,868,334,632,858 | -1,634,266,413,436 |
| موجودی نقد و بانک | 0 | 149,764 | 0 | 149,764 |
| اسناد دریافتنی | 0 | 91,150,000,000 | 59,450,000,000 | 31,700,000,000 |
| پیش پرداختها | 0 | 0 | 1,485,899,367,970 | -1,485,899,367,970 |
| سپرده ها | 0 | 0 | 1,043,277,525 | -1,043,277,525 |
| سایر دارایی ها | 0 | 4,326,321,276 | 7,053,726,564 | -2,727,405,288 |
| بدهیهای جاری | 0 | 2,615,672,348,225 | 568,868,437,663 | 2,046,803,910,562 |
| اسناد پرداختنی | 0 | 36,800,000,000 | 40,884,980,000 | -4,084,980,000 |
| بستانکاران تجاری | 0 | 316,740,405,854 | 410,657,174,285 | -93,916,768,431 |
| سایر بستانکاران | 0 | 1,616,669,821,315 | 103,106,833,378 | 1,513,562,987,937 |
| پیش دریافتها | 0 | 645,462,121,056 | 0 | 645,462,121,056 |
| بدهیهای غیر جاری | 0 | 41,817,577,756 | 586,417,857 | 41,231,159,899 |
| ذخایر | 0 | 0 | 561,417,857 | -561,417,857 |
| حقوق صاحبان سهام | 0 | 5,442,905,491 | 5,297,423,024 | 145,482,467 |
| اندوخته ها وسودوزیان انباشته | 0 | 114,272,840 | 3,501,027,983 | -3,386,755,143 |
| درآمد | 0 | 26,957,899,308 | 486,395,993,309 | -459,438,094,001 |
| درآمدهای عملیاتی | 0 | 26,957,899,308 | 486,395,957,939 | -459,438,058,631 |
| درآمدهای غیر عملیاتی | 0 | 0 | 35,370 | -35,370 |
| هزینه | 0 | 8,251,359,797 | 0 | 8,251,359,797 |
| هزینه های کارخانه | 0 | 4,956,104,993 | 0 | 4,956,104,993 |
| هزینه های دفترتهران | 0 | 3,295,254,804 | 0 | 3,295,254,804 |
        
        جمع کل:
        - مانده ابتدای دوره: 0 ریال
        - گردش بدهکار: 6,678,682,661,209 ریال
        - گردش بستانکار: 6,528,036,703,582 ریال
        - مانده انتهای دوره: 150,645,957,627 ریال
        
        تاریخ تولید: امروز
        دوره: فصل بهار
        
2025-11-01 12:53:42,309 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت مالی رو به من بده, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 13:09:26,370 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری شرکت, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 13:10:14,724 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 13:10:18,785 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 13:10:21,925 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 16:13:21,369 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:13:21,411 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:13:21,469 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:13:21,469 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:13:21,469 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:13:21,469 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:13:21,469 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:13:21,488 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:13:21,538 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:13:21,568 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:13:21,571 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:13:21,572 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:15:22,552 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:15:22,635 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:15:22,643 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:15:22,643 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:15:22,652 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:15:22,663 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:15:22,676 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:15:22,696 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:15:22,707 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:15:22,724 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:15:22,777 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:15:22,787 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:15:22,816 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:15:22,824 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:15:22,828 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:16:29,533 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:16:29,533 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:16:29,547 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:16:29,547 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:16:29,552 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:16:29,560 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:16:29,563 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:16:29,573 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:16:29,575 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:16:29,576 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:16:29,666 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:16:29,685 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:16:29,706 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:16:29,710 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:16:29,712 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:27:58,462 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:27:58,462 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:27:58,502 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:27:58,513 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:27:58,532 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:28:19,864 - financial_system.views - ERROR - خطا در پردازش سوال مالی: 'SimpleFinancialAgent' object has no attribute 'answer_question'
2025-11-01 16:28:19,867 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: خطا در پردازش سوال مالی: 'SimpleFinancialAgent' object has no attribute 'answer_question'
2025-11-01 16:28:28,468 - financial_system.views - ERROR - خطا در پردازش سوال مالی: 'SimpleFinancialAgent' object has no attribute 'answer_question'
2025-11-01 16:28:28,471 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: خطا در پردازش سوال مالی: 'SimpleFinancialAgent' object has no attribute 'answer_question'
2025-11-01 16:28:31,533 - financial_system.views - ERROR - خطا در پردازش سوال مالی: 'SimpleFinancialAgent' object has no attribute 'answer_question'
2025-11-01 16:28:31,540 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: خطا در پردازش سوال مالی: 'SimpleFinancialAgent' object has no attribute 'answer_question'
2025-11-01 16:34:50,934 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:34:51,084 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:34:51,101 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:34:51,140 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:34:51,141 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:37:46,379 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:37:46,379 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:37:46,403 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:37:46,405 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:37:46,406 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:38:56,128 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:38:56,146 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:38:56,185 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:38:56,190 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:38:56,192 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:51:29,075 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:51:29,075 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:51:29,108 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:51:29,109 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:51:29,111 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:52:00,395 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 16:57:58,495 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:57:58,547 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:57:58,561 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:57:58,572 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:57:58,573 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 16:57:58,575 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 16:57:58,588 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 16:57:58,605 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 16:57:58,608 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 16:57:58,610 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 17:05:13,345 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 17:05:13,345 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 17:05:13,375 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 17:05:13,377 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 17:05:13,379 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 17:06:59,230 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 17:07:01,975 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 17:07:05,500 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 17:11:09,354 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: شناسایی ریسک‌های مالی اصلی, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-01 17:15:53,841 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 18:11:51,774 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 18:11:51,790 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 18:11:51,814 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 18:11:51,818 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 18:11:51,886 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 18:14:31,894 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل چهار سطحی, A: 
        تراز کل چهارستونی - شرکت 1 - فصل بهار
        
        ساختار چهارستونی:
        
        | سرفصل حساب | مانده ابتدای دوره | گردش بدهکار | گردش بستانکار | مانده انتهای دوره |
        |-------------|------------------|-------------|---------------|-------------------|
        | داراییهای جاری | 0 | 1,234,068,219,422 | 2,868,334,632,858 | -1,634,266,413,436 |
| موجودی نقد و بانک | 0 | 149,764 | 0 | 149,764 |
| اسناد دریافتنی | 0 | 91,150,000,000 | 59,450,000,000 | 31,700,000,000 |
| پیش پرداختها | 0 | 0 | 1,485,899,367,970 | -1,485,899,367,970 |
| سپرده ها | 0 | 0 | 1,043,277,525 | -1,043,277,525 |
| سایر دارایی ها | 0 | 4,326,321,276 | 7,053,726,564 | -2,727,405,288 |
| بدهیهای جاری | 0 | 2,615,672,348,225 | 568,868,437,663 | 2,046,803,910,562 |
| اسناد پرداختنی | 0 | 36,800,000,000 | 40,884,980,000 | -4,084,980,000 |
| بستانکاران تجاری | 0 | 316,740,405,854 | 410,657,174,285 | -93,916,768,431 |
| سایر بستانکاران | 0 | 1,616,669,821,315 | 103,106,833,378 | 1,513,562,987,937 |
| پیش دریافتها | 0 | 645,462,121,056 | 0 | 645,462,121,056 |
| بدهیهای غیر جاری | 0 | 41,817,577,756 | 586,417,857 | 41,231,159,899 |
| ذخایر | 0 | 0 | 561,417,857 | -561,417,857 |
| حقوق صاحبان سهام | 0 | 5,442,905,491 | 5,297,423,024 | 145,482,467 |
| اندوخته ها وسودوزیان انباشته | 0 | 114,272,840 | 3,501,027,983 | -3,386,755,143 |
| درآمد | 0 | 26,957,899,308 | 486,395,993,309 | -459,438,094,001 |
| درآمدهای عملیاتی | 0 | 26,957,899,308 | 486,395,957,939 | -459,438,058,631 |
| درآمدهای غیر عملیاتی | 0 | 0 | 35,370 | -35,370 |
| هزینه | 0 | 8,251,359,797 | 0 | 8,251,359,797 |
| هزینه های کارخانه | 0 | 4,956,104,993 | 0 | 4,956,104,993 |
| هزینه های دفترتهران | 0 | 3,295,254,804 | 0 | 3,295,254,804 |
        
        جمع کل:
        - مانده ابتدای دوره: 0 ریال
        - گردش بدهکار: 6,678,682,661,209 ریال
        - گردش بستانکار: 6,528,036,703,582 ریال
        - مانده انتهای دوره: 150,645,957,627 ریال
        
        تاریخ تولید: امروز
        دوره: فصل بهار
        
2025-11-01 18:14:38,108 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 18:21:27,483 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 18:21:27,483 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 18:21:27,527 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 18:21:27,530 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 18:21:27,560 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 18:21:27,567 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 18:21:27,567 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 18:21:27,567 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 18:21:27,576 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 18:21:27,580 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 18:38:23,941 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل چهار ستونی, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1234068219422'), 'formatted_debit_turnover': '1,234,068,219,422 ریال', 'credit_turnover': Decimal('2868334632858'), 'formatted_credit_turnover': '2,868,334,632,858 ریال', 'ending_balance': Decimal('-1634266413436'), 'formatted_ending_balance': '-1,634,266,413,436 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('149764'), 'formatted_debit_turnover': '149,764 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('149764'), 'formatted_ending_balance': '149,764 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('91150000000'), 'formatted_debit_turnover': '91,150,000,000 ریال', 'credit_turnover': Decimal('59450000000'), 'formatted_credit_turnover': '59,450,000,000 ریال', 'ending_balance': Decimal('31700000000'), 'formatted_ending_balance': '31,700,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4326321276'), 'formatted_debit_turnover': '4,326,321,276 ریال', 'credit_turnover': Decimal('7053726564'), 'formatted_credit_turnover': '7,053,726,564 ریال', 'ending_balance': Decimal('-2727405288'), 'formatted_ending_balance': '-2,727,405,288 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2615672348225'), 'formatted_debit_turnover': '2,615,672,348,225 ریال', 'credit_turnover': Decimal('568868437663'), 'formatted_credit_turnover': '568,868,437,663 ریال', 'ending_balance': Decimal('2046803910562'), 'formatted_ending_balance': '2,046,803,910,562 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('36800000000'), 'formatted_debit_turnover': '36,800,000,000 ریال', 'credit_turnover': Decimal('40884980000'), 'formatted_credit_turnover': '40,884,980,000 ریال', 'ending_balance': Decimal('-4084980000'), 'formatted_ending_balance': '-4,084,980,000 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('316740405854'), 'formatted_debit_turnover': '316,740,405,854 ریال', 'credit_turnover': Decimal('410657174285'), 'formatted_credit_turnover': '410,657,174,285 ریال', 'ending_balance': Decimal('-93916768431'), 'formatted_ending_balance': '-93,916,768,431 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1616669821315'), 'formatted_debit_turnover': '1,616,669,821,315 ریال', 'credit_turnover': Decimal('103106833378'), 'formatted_credit_turnover': '103,106,833,378 ریال', 'ending_balance': Decimal('1513562987937'), 'formatted_ending_balance': '1,513,562,987,937 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('41817577756'), 'formatted_debit_turnover': '41,817,577,756 ریال', 'credit_turnover': Decimal('586417857'), 'formatted_credit_turnover': '586,417,857 ریال', 'ending_balance': Decimal('41231159899'), 'formatted_ending_balance': '41,231,159,899 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5442905491'), 'formatted_debit_turnover': '5,442,905,491 ریال', 'credit_turnover': Decimal('5297423024'), 'formatted_credit_turnover': '5,297,423,024 ریال', 'ending_balance': Decimal('145482467'), 'formatted_ending_balance': '145,482,467 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395993309'), 'formatted_credit_turnover': '486,395,993,309 ریال', 'ending_balance': Decimal('-459438094001'), 'formatted_ending_balance': '-459,438,094,001 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395957939'), 'formatted_credit_turnover': '486,395,957,939 ریال', 'ending_balance': Decimal('-459438058631'), 'formatted_ending_balance': '-459,438,058,631 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('35370'), 'formatted_credit_turnover': '35,370 ریال', 'ending_balance': Decimal('-35370'), 'formatted_ending_balance': '-35,370 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8251359797'), 'formatted_debit_turnover': '8,251,359,797 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8251359797'), 'formatted_ending_balance': '8,251,359,797 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4956104993'), 'formatted_debit_turnover': '4,956,104,993 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('4956104993'), 'formatted_ending_balance': '4,956,104,993 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('3295254804'), 'formatted_debit_turnover': '3,295,254,804 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('3295254804'), 'formatted_ending_balance': '3,295,254,804 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('6678682661209'), 'formatted_total_debit_turnover': '6,678,682,661,209 ریال', 'total_credit_turnover': Decimal('6528036703582'), 'formatted_total_credit_turnover': '6,528,036,703,582 ریال', 'total_ending_balance': Decimal('150645957627'), 'formatted_total_ending_balance': '150,645,957,627 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('6678682661209'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('6528036703582'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('150645957627'), 'color': '#FF9800'}]}}
2025-11-01 18:43:54,108 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز معیت برای چهارسطحی رو به من بده, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-01 18:44:09,707 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز معین چهارسطحی, A: 
        گزارش جامع مالی - شرکت 1 - دوره 1
        
        بخش ۱: صورت‌های مالی اصلی
        
        ۱.۱ ترازنامه:
        - مجموع دارایی‌ها: 10,000,000,000 ریال
        - مجموع بدهی‌ها: 6,000,000,000 ریال
        - حقوق صاحبان سهام: 4,000,000,000 ریال
        
        ۱.۲ صورت سود و زیان:
        - درآمد: 5,000,000,000 ریال
        - هزینه‌ها: 4,200,000,000 ریال
        - سود خالص: 800,000,000 ریال
        
        ۱.۳ صورت جریان نقدی:
        - جریان نقد عملیاتی: 750,000,000 ریال
        - جریان نقد سرمایه‌گذاری: -200,000,000 ریال
        - جریان نقد تأمین مالی: -100,000,000 ریال
        
        بخش ۲: تحلیل نسبت‌های مالی
        
        ۲.۱ نسبت‌های نقدینگی:
        - نسبت جاری: 2.1 (مطلوب)
        - نسبت آنی: 1.5 (مطلوب)
        
        ۲.۲ نسبت‌های اهرمی:
        - نسبت بدهی: 0.6 (متوسط)
        - نسبت بدهی به حقوق صاحبان سهام: 1.5 (مطلوب)
        
        ۲.۳ نسبت‌های سودآوری:
        - بازده دارایی‌ها: 8.0%
        - بازده حقوق صاحبان سهام: 20.0%
        - حاشیه سود خالص: 16.0%
        
        بخش ۳: تحلیل روند و پیش‌بینی
        
        ۳.۱ روند ۶ ماهه:
        - رشد درآمد: +15%
        - رشد سود: +20%
        - بهبود نقدینگی: +10%
        
        ۳.۲ پیش‌بینی ۳ ماه آینده:
        - درآمد پیش‌بینی: 5,500,000,000 ریال
        - سود پیش‌بینی: 900,000,000 ریال
        - نیاز به سرمایه‌گذاری: 300,000,000 ریال
        
        نتیجه‌گیری:
        وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص‌ها مشاهده می‌شود.
        توصیه می‌شود برای حفظ این روند، سرمایه‌گذاری در توسعه کسب‌وکار ادامه یابد.
        
2025-11-01 18:50:38,446 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز معین چهارسطحی, A: 
        گزارش جامع مالی - شرکت 1 - دوره 1
        
        بخش ۱: صورت‌های مالی اصلی
        
        ۱.۱ ترازنامه:
        - مجموع دارایی‌ها: 10,000,000,000 ریال
        - مجموع بدهی‌ها: 6,000,000,000 ریال
        - حقوق صاحبان سهام: 4,000,000,000 ریال
        
        ۱.۲ صورت سود و زیان:
        - درآمد: 5,000,000,000 ریال
        - هزینه‌ها: 4,200,000,000 ریال
        - سود خالص: 800,000,000 ریال
        
        ۱.۳ صورت جریان نقدی:
        - جریان نقد عملیاتی: 750,000,000 ریال
        - جریان نقد سرمایه‌گذاری: -200,000,000 ریال
        - جریان نقد تأمین مالی: -100,000,000 ریال
        
        بخش ۲: تحلیل نسبت‌های مالی
        
        ۲.۱ نسبت‌های نقدینگی:
        - نسبت جاری: 2.1 (مطلوب)
        - نسبت آنی: 1.5 (مطلوب)
        
        ۲.۲ نسبت‌های اهرمی:
        - نسبت بدهی: 0.6 (متوسط)
        - نسبت بدهی به حقوق صاحبان سهام: 1.5 (مطلوب)
        
        ۲.۳ نسبت‌های سودآوری:
        - بازده دارایی‌ها: 8.0%
        - بازده حقوق صاحبان سهام: 20.0%
        - حاشیه سود خالص: 16.0%
        
        بخش ۳: تحلیل روند و پیش‌بینی
        
        ۳.۱ روند ۶ ماهه:
        - رشد درآمد: +15%
        - رشد سود: +20%
        - بهبود نقدینگی: +10%
        
        ۳.۲ پیش‌بینی ۳ ماه آینده:
        - درآمد پیش‌بینی: 5,500,000,000 ریال
        - سود پیش‌بینی: 900,000,000 ریال
        - نیاز به سرمایه‌گذاری: 300,000,000 ریال
        
        نتیجه‌گیری:
        وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص‌ها مشاهده می‌شود.
        توصیه می‌شود برای حفظ این روند، سرمایه‌گذاری در توسعه کسب‌وکار ادامه یابد.
        
2025-11-01 20:01:53,550 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:01:53,550 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:01:53,633 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:01:53,633 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:01:53,633 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:03:23,335 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:03:23,335 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:03:23,438 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:03:23,438 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:03:23,438 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:04:30,609 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:04:30,621 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:04:30,723 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:04:30,730 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:04:30,733 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:05:34,844 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:05:34,850 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:05:34,987 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:05:34,997 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:05:35,006 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:06:25,707 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:06:25,715 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:06:25,823 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:06:25,829 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:06:25,837 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:08:06,186 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:08:06,186 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:08:06,369 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:08:06,386 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:08:06,411 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:09:37,027 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:09:37,027 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:09:37,108 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:09:37,110 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:09:37,110 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:12:09,309 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:12:09,309 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:12:09,339 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:12:09,341 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:12:09,343 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:24:54,261 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز معینچهار سطحی, A: {'success': True, 'report_type': 'comprehensive_report', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'گزارش جامع مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'صورت\u200cهای مالی اصلی', 'items': [{'subsection': 'ترازنامه', 'description': 'وضعیت دارایی\u200cها، بدهی\u200cها و حقوق صاحبان سهام', 'data': {'total_assets': 10000000000, 'total_liabilities': 6000000000, 'total_equity': 4000000000}}, {'subsection': 'صورت سود و زیان', 'description': 'درآمدها، هزینه\u200cها و سود/زیان خالص', 'data': {'revenue': 5000000000, 'expenses': 4200000000, 'net_income': 800000000}}, {'subsection': 'صورت جریان نقدی', 'description': 'جریان\u200cهای نقدی عملیاتی، سرمایه\u200cگذاری و تأمین مالی', 'data': {'operating_cash_flow': 750000000, 'investing_cash_flow': -200000000, 'financing_cash_flow': -100000000}}]}, {'title': 'تحلیل نسبت\u200cهای مالی', 'items': [{'subsection': 'نسبت\u200cهای نقدینگی', 'description': 'توانایی شرکت در پرداخت تعهدات کوتاه\u200cمدت', 'data': {'current_ratio': 2.1, 'quick_ratio': 1.5}}, {'subsection': 'نسبت\u200cهای اهرمی', 'description': 'ساختار سرمایه و وابستگی به منابع مالی خارجی', 'data': {'debt_ratio': 0.6, 'debt_to_equity': 1.5}}, {'subsection': 'نسبت\u200cهای سودآوری', 'description': 'کارایی و بازدهی عملیات شرکت', 'data': {'return_on_assets': 8.0, 'return_on_equity': 20.0, 'profit_margin': 16.0}}]}, {'title': 'تحلیل روند و پیش\u200cبینی', 'items': [{'subsection': 'روند ۶ ماهه', 'description': 'تحلیل عملکرد گذشته شرکت', 'data': {'revenue_growth': 15, 'profit_growth': 20, 'liquidity_improvement': 10}}, {'subsection': 'پیش\u200cبینی ۳ ماه آینده', 'description': 'برآورد عملکرد آتی شرکت', 'data': {'forecasted_revenue': 5500000000, 'forecasted_profit': 900000000, 'investment_need': 300000000}}]}], 'summary': {'overall_status': 'مطلوب', 'financial_health': 'قوی', 'growth_potential': 'بالا', 'risk_level': 'کم', 'recommendations': ['ادامه سرمایه\u200cگذاری در توسعه کسب\u200cوکار', 'حفظ سطح نقدینگی فعلی', 'بهبود کارایی عملیاتی', 'بررسی منظم شاخص\u200cهای مالی'], 'conclusion': 'وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص\u200cها مشاهده می\u200cشود. توصیه می\u200cشود برای حفظ این روند، سرمایه\u200cگذاری در توسعه کسب\u200cوکار ادامه یابد.'}}, 'visualization': {'chart_type': 'comprehensive_report', 'data_points': [{'name': 'دارایی\u200cها', 'value': 10000000000, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 6000000000, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 4000000000, 'color': '#2196F3'}, {'name': 'درآمد', 'value': 5000000000, 'color': '#FF9800'}, {'name': 'سود خالص', 'value': 800000000, 'color': '#9C27B0'}]}}
2025-11-01 20:25:01,342 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 20:25:04,352 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 20:25:12,549 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: گردش مالی دوره جاری چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 20:25:30,918 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 20:25:36,846 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز معین, A: {'success': True, 'report_type': 'comprehensive_report', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'گزارش جامع مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'صورت\u200cهای مالی اصلی', 'items': [{'subsection': 'ترازنامه', 'description': 'وضعیت دارایی\u200cها، بدهی\u200cها و حقوق صاحبان سهام', 'data': {'total_assets': 10000000000, 'total_liabilities': 6000000000, 'total_equity': 4000000000}}, {'subsection': 'صورت سود و زیان', 'description': 'درآمدها، هزینه\u200cها و سود/زیان خالص', 'data': {'revenue': 5000000000, 'expenses': 4200000000, 'net_income': 800000000}}, {'subsection': 'صورت جریان نقدی', 'description': 'جریان\u200cهای نقدی عملیاتی، سرمایه\u200cگذاری و تأمین مالی', 'data': {'operating_cash_flow': 750000000, 'investing_cash_flow': -200000000, 'financing_cash_flow': -100000000}}]}, {'title': 'تحلیل نسبت\u200cهای مالی', 'items': [{'subsection': 'نسبت\u200cهای نقدینگی', 'description': 'توانایی شرکت در پرداخت تعهدات کوتاه\u200cمدت', 'data': {'current_ratio': 2.1, 'quick_ratio': 1.5}}, {'subsection': 'نسبت\u200cهای اهرمی', 'description': 'ساختار سرمایه و وابستگی به منابع مالی خارجی', 'data': {'debt_ratio': 0.6, 'debt_to_equity': 1.5}}, {'subsection': 'نسبت\u200cهای سودآوری', 'description': 'کارایی و بازدهی عملیات شرکت', 'data': {'return_on_assets': 8.0, 'return_on_equity': 20.0, 'profit_margin': 16.0}}]}, {'title': 'تحلیل روند و پیش\u200cبینی', 'items': [{'subsection': 'روند ۶ ماهه', 'description': 'تحلیل عملکرد گذشته شرکت', 'data': {'revenue_growth': 15, 'profit_growth': 20, 'liquidity_improvement': 10}}, {'subsection': 'پیش\u200cبینی ۳ ماه آینده', 'description': 'برآورد عملکرد آتی شرکت', 'data': {'forecasted_revenue': 5500000000, 'forecasted_profit': 900000000, 'investment_need': 300000000}}]}], 'summary': {'overall_status': 'مطلوب', 'financial_health': 'قوی', 'growth_potential': 'بالا', 'risk_level': 'کم', 'recommendations': ['ادامه سرمایه\u200cگذاری در توسعه کسب\u200cوکار', 'حفظ سطح نقدینگی فعلی', 'بهبود کارایی عملیاتی', 'بررسی منظم شاخص\u200cهای مالی'], 'conclusion': 'وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص\u200cها مشاهده می\u200cشود. توصیه می\u200cشود برای حفظ این روند، سرمایه\u200cگذاری در توسعه کسب\u200cوکار ادامه یابد.'}}, 'visualization': {'chart_type': 'comprehensive_report', 'data_points': [{'name': 'دارایی\u200cها', 'value': 10000000000, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 6000000000, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 4000000000, 'color': '#2196F3'}, {'name': 'درآمد', 'value': 5000000000, 'color': '#FF9800'}, {'name': 'سود خالص', 'value': 800000000, 'color': '#9C27B0'}]}}
2025-11-01 20:25:43,171 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1234068219422'), 'formatted_debit_turnover': '1,234,068,219,422 ریال', 'credit_turnover': Decimal('2868334632858'), 'formatted_credit_turnover': '2,868,334,632,858 ریال', 'ending_balance': Decimal('-1634266413436'), 'formatted_ending_balance': '-1,634,266,413,436 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('149764'), 'formatted_debit_turnover': '149,764 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('149764'), 'formatted_ending_balance': '149,764 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('91150000000'), 'formatted_debit_turnover': '91,150,000,000 ریال', 'credit_turnover': Decimal('59450000000'), 'formatted_credit_turnover': '59,450,000,000 ریال', 'ending_balance': Decimal('31700000000'), 'formatted_ending_balance': '31,700,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4326321276'), 'formatted_debit_turnover': '4,326,321,276 ریال', 'credit_turnover': Decimal('7053726564'), 'formatted_credit_turnover': '7,053,726,564 ریال', 'ending_balance': Decimal('-2727405288'), 'formatted_ending_balance': '-2,727,405,288 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2615672348225'), 'formatted_debit_turnover': '2,615,672,348,225 ریال', 'credit_turnover': Decimal('568868437663'), 'formatted_credit_turnover': '568,868,437,663 ریال', 'ending_balance': Decimal('2046803910562'), 'formatted_ending_balance': '2,046,803,910,562 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('36800000000'), 'formatted_debit_turnover': '36,800,000,000 ریال', 'credit_turnover': Decimal('40884980000'), 'formatted_credit_turnover': '40,884,980,000 ریال', 'ending_balance': Decimal('-4084980000'), 'formatted_ending_balance': '-4,084,980,000 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('316740405854'), 'formatted_debit_turnover': '316,740,405,854 ریال', 'credit_turnover': Decimal('410657174285'), 'formatted_credit_turnover': '410,657,174,285 ریال', 'ending_balance': Decimal('-93916768431'), 'formatted_ending_balance': '-93,916,768,431 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1616669821315'), 'formatted_debit_turnover': '1,616,669,821,315 ریال', 'credit_turnover': Decimal('103106833378'), 'formatted_credit_turnover': '103,106,833,378 ریال', 'ending_balance': Decimal('1513562987937'), 'formatted_ending_balance': '1,513,562,987,937 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('41817577756'), 'formatted_debit_turnover': '41,817,577,756 ریال', 'credit_turnover': Decimal('586417857'), 'formatted_credit_turnover': '586,417,857 ریال', 'ending_balance': Decimal('41231159899'), 'formatted_ending_balance': '41,231,159,899 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5442905491'), 'formatted_debit_turnover': '5,442,905,491 ریال', 'credit_turnover': Decimal('5297423024'), 'formatted_credit_turnover': '5,297,423,024 ریال', 'ending_balance': Decimal('145482467'), 'formatted_ending_balance': '145,482,467 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395993309'), 'formatted_credit_turnover': '486,395,993,309 ریال', 'ending_balance': Decimal('-459438094001'), 'formatted_ending_balance': '-459,438,094,001 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395957939'), 'formatted_credit_turnover': '486,395,957,939 ریال', 'ending_balance': Decimal('-459438058631'), 'formatted_ending_balance': '-459,438,058,631 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('35370'), 'formatted_credit_turnover': '35,370 ریال', 'ending_balance': Decimal('-35370'), 'formatted_ending_balance': '-35,370 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8251359797'), 'formatted_debit_turnover': '8,251,359,797 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8251359797'), 'formatted_ending_balance': '8,251,359,797 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4956104993'), 'formatted_debit_turnover': '4,956,104,993 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('4956104993'), 'formatted_ending_balance': '4,956,104,993 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('3295254804'), 'formatted_debit_turnover': '3,295,254,804 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('3295254804'), 'formatted_ending_balance': '3,295,254,804 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('6678682661209'), 'formatted_total_debit_turnover': '6,678,682,661,209 ریال', 'total_credit_turnover': Decimal('6528036703582'), 'formatted_total_credit_turnover': '6,528,036,703,582 ریال', 'total_ending_balance': Decimal('150645957627'), 'formatted_total_ending_balance': '150,645,957,627 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('6678682661209'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('6528036703582'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('150645957627'), 'color': '#FF9800'}]}}
2025-11-01 20:28:25,104 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:28:25,104 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:28:25,104 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:28:25,122 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:28:25,123 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:28:25,126 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:28:25,126 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:28:25,130 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:28:25,131 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:28:25,132 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:29:18,550 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:29:18,554 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:29:18,571 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:29:18,573 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:29:18,630 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:29:18,630 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:29:18,635 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:29:18,635 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:29:18,639 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:29:18,653 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:30:22,290 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:30:22,290 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:30:22,334 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:30:22,337 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:30:22,346 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:30:22,348 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:30:22,350 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:30:22,365 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:30:22,369 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:30:22,369 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:31:26,919 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز آزمایشی معین, A: {'success': True, 'report_type': 'comprehensive_report', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'گزارش جامع مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'صورت\u200cهای مالی اصلی', 'items': [{'subsection': 'ترازنامه', 'description': 'وضعیت دارایی\u200cها، بدهی\u200cها و حقوق صاحبان سهام', 'data': {'total_assets': 10000000000, 'total_liabilities': 6000000000, 'total_equity': 4000000000}}, {'subsection': 'صورت سود و زیان', 'description': 'درآمدها، هزینه\u200cها و سود/زیان خالص', 'data': {'revenue': 5000000000, 'expenses': 4200000000, 'net_income': 800000000}}, {'subsection': 'صورت جریان نقدی', 'description': 'جریان\u200cهای نقدی عملیاتی، سرمایه\u200cگذاری و تأمین مالی', 'data': {'operating_cash_flow': 750000000, 'investing_cash_flow': -200000000, 'financing_cash_flow': -100000000}}]}, {'title': 'تحلیل نسبت\u200cهای مالی', 'items': [{'subsection': 'نسبت\u200cهای نقدینگی', 'description': 'توانایی شرکت در پرداخت تعهدات کوتاه\u200cمدت', 'data': {'current_ratio': 2.1, 'quick_ratio': 1.5}}, {'subsection': 'نسبت\u200cهای اهرمی', 'description': 'ساختار سرمایه و وابستگی به منابع مالی خارجی', 'data': {'debt_ratio': 0.6, 'debt_to_equity': 1.5}}, {'subsection': 'نسبت\u200cهای سودآوری', 'description': 'کارایی و بازدهی عملیات شرکت', 'data': {'return_on_assets': 8.0, 'return_on_equity': 20.0, 'profit_margin': 16.0}}]}, {'title': 'تحلیل روند و پیش\u200cبینی', 'items': [{'subsection': 'روند ۶ ماهه', 'description': 'تحلیل عملکرد گذشته شرکت', 'data': {'revenue_growth': 15, 'profit_growth': 20, 'liquidity_improvement': 10}}, {'subsection': 'پیش\u200cبینی ۳ ماه آینده', 'description': 'برآورد عملکرد آتی شرکت', 'data': {'forecasted_revenue': 5500000000, 'forecasted_profit': 900000000, 'investment_need': 300000000}}]}], 'summary': {'overall_status': 'مطلوب', 'financial_health': 'قوی', 'growth_potential': 'بالا', 'risk_level': 'کم', 'recommendations': ['ادامه سرمایه\u200cگذاری در توسعه کسب\u200cوکار', 'حفظ سطح نقدینگی فعلی', 'بهبود کارایی عملیاتی', 'بررسی منظم شاخص\u200cهای مالی'], 'conclusion': 'وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص\u200cها مشاهده می\u200cشود. توصیه می\u200cشود برای حفظ این روند، سرمایه\u200cگذاری در توسعه کسب\u200cوکار ادامه یابد.'}}, 'visualization': {'chart_type': 'comprehensive_report', 'data_points': [{'name': 'دارایی\u200cها', 'value': 10000000000, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 6000000000, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 4000000000, 'color': '#2196F3'}, {'name': 'درآمد', 'value': 5000000000, 'color': '#FF9800'}, {'name': 'سود خالص', 'value': 800000000, 'color': '#9C27B0'}]}}
2025-11-01 20:31:32,156 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز معین, A: {'success': True, 'report_type': 'comprehensive_report', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'گزارش جامع مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'صورت\u200cهای مالی اصلی', 'items': [{'subsection': 'ترازنامه', 'description': 'وضعیت دارایی\u200cها، بدهی\u200cها و حقوق صاحبان سهام', 'data': {'total_assets': 10000000000, 'total_liabilities': 6000000000, 'total_equity': 4000000000}}, {'subsection': 'صورت سود و زیان', 'description': 'درآمدها، هزینه\u200cها و سود/زیان خالص', 'data': {'revenue': 5000000000, 'expenses': 4200000000, 'net_income': 800000000}}, {'subsection': 'صورت جریان نقدی', 'description': 'جریان\u200cهای نقدی عملیاتی، سرمایه\u200cگذاری و تأمین مالی', 'data': {'operating_cash_flow': 750000000, 'investing_cash_flow': -200000000, 'financing_cash_flow': -100000000}}]}, {'title': 'تحلیل نسبت\u200cهای مالی', 'items': [{'subsection': 'نسبت\u200cهای نقدینگی', 'description': 'توانایی شرکت در پرداخت تعهدات کوتاه\u200cمدت', 'data': {'current_ratio': 2.1, 'quick_ratio': 1.5}}, {'subsection': 'نسبت\u200cهای اهرمی', 'description': 'ساختار سرمایه و وابستگی به منابع مالی خارجی', 'data': {'debt_ratio': 0.6, 'debt_to_equity': 1.5}}, {'subsection': 'نسبت\u200cهای سودآوری', 'description': 'کارایی و بازدهی عملیات شرکت', 'data': {'return_on_assets': 8.0, 'return_on_equity': 20.0, 'profit_margin': 16.0}}]}, {'title': 'تحلیل روند و پیش\u200cبینی', 'items': [{'subsection': 'روند ۶ ماهه', 'description': 'تحلیل عملکرد گذشته شرکت', 'data': {'revenue_growth': 15, 'profit_growth': 20, 'liquidity_improvement': 10}}, {'subsection': 'پیش\u200cبینی ۳ ماه آینده', 'description': 'برآورد عملکرد آتی شرکت', 'data': {'forecasted_revenue': 5500000000, 'forecasted_profit': 900000000, 'investment_need': 300000000}}]}], 'summary': {'overall_status': 'مطلوب', 'financial_health': 'قوی', 'growth_potential': 'بالا', 'risk_level': 'کم', 'recommendations': ['ادامه سرمایه\u200cگذاری در توسعه کسب\u200cوکار', 'حفظ سطح نقدینگی فعلی', 'بهبود کارایی عملیاتی', 'بررسی منظم شاخص\u200cهای مالی'], 'conclusion': 'وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص\u200cها مشاهده می\u200cشود. توصیه می\u200cشود برای حفظ این روند، سرمایه\u200cگذاری در توسعه کسب\u200cوکار ادامه یابد.'}}, 'visualization': {'chart_type': 'comprehensive_report', 'data_points': [{'name': 'دارایی\u200cها', 'value': 10000000000, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 6000000000, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 4000000000, 'color': '#2196F3'}, {'name': 'درآمد', 'value': 5000000000, 'color': '#FF9800'}, {'name': 'سود خالص', 'value': 800000000, 'color': '#9C27B0'}]}}
2025-11-01 20:31:36,759 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1234068219422'), 'formatted_debit_turnover': '1,234,068,219,422 ریال', 'credit_turnover': Decimal('2868334632858'), 'formatted_credit_turnover': '2,868,334,632,858 ریال', 'ending_balance': Decimal('-1634266413436'), 'formatted_ending_balance': '-1,634,266,413,436 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('149764'), 'formatted_debit_turnover': '149,764 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('149764'), 'formatted_ending_balance': '149,764 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('91150000000'), 'formatted_debit_turnover': '91,150,000,000 ریال', 'credit_turnover': Decimal('59450000000'), 'formatted_credit_turnover': '59,450,000,000 ریال', 'ending_balance': Decimal('31700000000'), 'formatted_ending_balance': '31,700,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4326321276'), 'formatted_debit_turnover': '4,326,321,276 ریال', 'credit_turnover': Decimal('7053726564'), 'formatted_credit_turnover': '7,053,726,564 ریال', 'ending_balance': Decimal('-2727405288'), 'formatted_ending_balance': '-2,727,405,288 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2615672348225'), 'formatted_debit_turnover': '2,615,672,348,225 ریال', 'credit_turnover': Decimal('568868437663'), 'formatted_credit_turnover': '568,868,437,663 ریال', 'ending_balance': Decimal('2046803910562'), 'formatted_ending_balance': '2,046,803,910,562 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('36800000000'), 'formatted_debit_turnover': '36,800,000,000 ریال', 'credit_turnover': Decimal('40884980000'), 'formatted_credit_turnover': '40,884,980,000 ریال', 'ending_balance': Decimal('-4084980000'), 'formatted_ending_balance': '-4,084,980,000 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('316740405854'), 'formatted_debit_turnover': '316,740,405,854 ریال', 'credit_turnover': Decimal('410657174285'), 'formatted_credit_turnover': '410,657,174,285 ریال', 'ending_balance': Decimal('-93916768431'), 'formatted_ending_balance': '-93,916,768,431 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1616669821315'), 'formatted_debit_turnover': '1,616,669,821,315 ریال', 'credit_turnover': Decimal('103106833378'), 'formatted_credit_turnover': '103,106,833,378 ریال', 'ending_balance': Decimal('1513562987937'), 'formatted_ending_balance': '1,513,562,987,937 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('41817577756'), 'formatted_debit_turnover': '41,817,577,756 ریال', 'credit_turnover': Decimal('586417857'), 'formatted_credit_turnover': '586,417,857 ریال', 'ending_balance': Decimal('41231159899'), 'formatted_ending_balance': '41,231,159,899 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5442905491'), 'formatted_debit_turnover': '5,442,905,491 ریال', 'credit_turnover': Decimal('5297423024'), 'formatted_credit_turnover': '5,297,423,024 ریال', 'ending_balance': Decimal('145482467'), 'formatted_ending_balance': '145,482,467 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395993309'), 'formatted_credit_turnover': '486,395,993,309 ریال', 'ending_balance': Decimal('-459438094001'), 'formatted_ending_balance': '-459,438,094,001 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395957939'), 'formatted_credit_turnover': '486,395,957,939 ریال', 'ending_balance': Decimal('-459438058631'), 'formatted_ending_balance': '-459,438,058,631 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('35370'), 'formatted_credit_turnover': '35,370 ریال', 'ending_balance': Decimal('-35370'), 'formatted_ending_balance': '-35,370 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8251359797'), 'formatted_debit_turnover': '8,251,359,797 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8251359797'), 'formatted_ending_balance': '8,251,359,797 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4956104993'), 'formatted_debit_turnover': '4,956,104,993 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('4956104993'), 'formatted_ending_balance': '4,956,104,993 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('3295254804'), 'formatted_debit_turnover': '3,295,254,804 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('3295254804'), 'formatted_ending_balance': '3,295,254,804 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('6678682661209'), 'formatted_total_debit_turnover': '6,678,682,661,209 ریال', 'total_credit_turnover': Decimal('6528036703582'), 'formatted_total_credit_turnover': '6,528,036,703,582 ریال', 'total_ending_balance': Decimal('150645957627'), 'formatted_total_ending_balance': '150,645,957,627 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('6678682661209'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('6528036703582'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('150645957627'), 'color': '#FF9800'}]}}
2025-11-01 20:31:50,406 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز گروه حساب, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 20:32:13,883 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:36:21,253 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:36:21,253 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:36:21,270 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:36:21,270 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:36:21,270 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:36:35,705 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:36:35,772 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:36:35,914 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:36:35,986 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:36:36,028 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:37:10,376 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:37:10,376 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:37:10,376 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:37:10,387 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:37:10,426 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:37:10,426 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:37:10,426 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:37:10,426 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:37:10,426 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:37:10,426 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:38:28,883 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:38:28,886 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:38:29,037 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:38:29,040 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:38:29,041 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:38:29,250 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:38:29,254 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-01 20:38:29,271 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-01 20:38:29,272 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-01 20:38:29,273 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-01 20:42:00,222 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز معین, A: {'success': True, 'report_type': 'comprehensive_report', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'گزارش جامع مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'صورت\u200cهای مالی اصلی', 'items': [{'subsection': 'ترازنامه', 'description': 'وضعیت دارایی\u200cها، بدهی\u200cها و حقوق صاحبان سهام', 'data': {'total_assets': 10000000000, 'total_liabilities': 6000000000, 'total_equity': 4000000000}}, {'subsection': 'صورت سود و زیان', 'description': 'درآمدها، هزینه\u200cها و سود/زیان خالص', 'data': {'revenue': 5000000000, 'expenses': 4200000000, 'net_income': 800000000}}, {'subsection': 'صورت جریان نقدی', 'description': 'جریان\u200cهای نقدی عملیاتی، سرمایه\u200cگذاری و تأمین مالی', 'data': {'operating_cash_flow': 750000000, 'investing_cash_flow': -200000000, 'financing_cash_flow': -100000000}}]}, {'title': 'تحلیل نسبت\u200cهای مالی', 'items': [{'subsection': 'نسبت\u200cهای نقدینگی', 'description': 'توانایی شرکت در پرداخت تعهدات کوتاه\u200cمدت', 'data': {'current_ratio': 2.1, 'quick_ratio': 1.5}}, {'subsection': 'نسبت\u200cهای اهرمی', 'description': 'ساختار سرمایه و وابستگی به منابع مالی خارجی', 'data': {'debt_ratio': 0.6, 'debt_to_equity': 1.5}}, {'subsection': 'نسبت\u200cهای سودآوری', 'description': 'کارایی و بازدهی عملیات شرکت', 'data': {'return_on_assets': 8.0, 'return_on_equity': 20.0, 'profit_margin': 16.0}}]}, {'title': 'تحلیل روند و پیش\u200cبینی', 'items': [{'subsection': 'روند ۶ ماهه', 'description': 'تحلیل عملکرد گذشته شرکت', 'data': {'revenue_growth': 15, 'profit_growth': 20, 'liquidity_improvement': 10}}, {'subsection': 'پیش\u200cبینی ۳ ماه آینده', 'description': 'برآورد عملکرد آتی شرکت', 'data': {'forecasted_revenue': 5500000000, 'forecasted_profit': 900000000, 'investment_need': 300000000}}]}], 'summary': {'overall_status': 'مطلوب', 'financial_health': 'قوی', 'growth_potential': 'بالا', 'risk_level': 'کم', 'recommendations': ['ادامه سرمایه\u200cگذاری در توسعه کسب\u200cوکار', 'حفظ سطح نقدینگی فعلی', 'بهبود کارایی عملیاتی', 'بررسی منظم شاخص\u200cهای مالی'], 'conclusion': 'وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص\u200cها مشاهده می\u200cشود. توصیه می\u200cشود برای حفظ این روند، سرمایه\u200cگذاری در توسعه کسب\u200cوکار ادامه یابد.'}}, 'visualization': {'chart_type': 'comprehensive_report', 'data_points': [{'name': 'دارایی\u200cها', 'value': 10000000000, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 6000000000, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 4000000000, 'color': '#2196F3'}, {'name': 'درآمد', 'value': 5000000000, 'color': '#FF9800'}, {'name': 'سود خالص', 'value': 800000000, 'color': '#9C27B0'}]}}
2025-11-01 20:42:09,861 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1234068219422'), 'formatted_debit_turnover': '1,234,068,219,422 ریال', 'credit_turnover': Decimal('2868334632858'), 'formatted_credit_turnover': '2,868,334,632,858 ریال', 'ending_balance': Decimal('-1634266413436'), 'formatted_ending_balance': '-1,634,266,413,436 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('149764'), 'formatted_debit_turnover': '149,764 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('149764'), 'formatted_ending_balance': '149,764 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('91150000000'), 'formatted_debit_turnover': '91,150,000,000 ریال', 'credit_turnover': Decimal('59450000000'), 'formatted_credit_turnover': '59,450,000,000 ریال', 'ending_balance': Decimal('31700000000'), 'formatted_ending_balance': '31,700,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4326321276'), 'formatted_debit_turnover': '4,326,321,276 ریال', 'credit_turnover': Decimal('7053726564'), 'formatted_credit_turnover': '7,053,726,564 ریال', 'ending_balance': Decimal('-2727405288'), 'formatted_ending_balance': '-2,727,405,288 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2615672348225'), 'formatted_debit_turnover': '2,615,672,348,225 ریال', 'credit_turnover': Decimal('568868437663'), 'formatted_credit_turnover': '568,868,437,663 ریال', 'ending_balance': Decimal('2046803910562'), 'formatted_ending_balance': '2,046,803,910,562 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('36800000000'), 'formatted_debit_turnover': '36,800,000,000 ریال', 'credit_turnover': Decimal('40884980000'), 'formatted_credit_turnover': '40,884,980,000 ریال', 'ending_balance': Decimal('-4084980000'), 'formatted_ending_balance': '-4,084,980,000 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('316740405854'), 'formatted_debit_turnover': '316,740,405,854 ریال', 'credit_turnover': Decimal('410657174285'), 'formatted_credit_turnover': '410,657,174,285 ریال', 'ending_balance': Decimal('-93916768431'), 'formatted_ending_balance': '-93,916,768,431 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1616669821315'), 'formatted_debit_turnover': '1,616,669,821,315 ریال', 'credit_turnover': Decimal('103106833378'), 'formatted_credit_turnover': '103,106,833,378 ریال', 'ending_balance': Decimal('1513562987937'), 'formatted_ending_balance': '1,513,562,987,937 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('41817577756'), 'formatted_debit_turnover': '41,817,577,756 ریال', 'credit_turnover': Decimal('586417857'), 'formatted_credit_turnover': '586,417,857 ریال', 'ending_balance': Decimal('41231159899'), 'formatted_ending_balance': '41,231,159,899 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5442905491'), 'formatted_debit_turnover': '5,442,905,491 ریال', 'credit_turnover': Decimal('5297423024'), 'formatted_credit_turnover': '5,297,423,024 ریال', 'ending_balance': Decimal('145482467'), 'formatted_ending_balance': '145,482,467 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395993309'), 'formatted_credit_turnover': '486,395,993,309 ریال', 'ending_balance': Decimal('-459438094001'), 'formatted_ending_balance': '-459,438,094,001 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395957939'), 'formatted_credit_turnover': '486,395,957,939 ریال', 'ending_balance': Decimal('-459438058631'), 'formatted_ending_balance': '-459,438,058,631 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('35370'), 'formatted_credit_turnover': '35,370 ریال', 'ending_balance': Decimal('-35370'), 'formatted_ending_balance': '-35,370 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8251359797'), 'formatted_debit_turnover': '8,251,359,797 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8251359797'), 'formatted_ending_balance': '8,251,359,797 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4956104993'), 'formatted_debit_turnover': '4,956,104,993 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('4956104993'), 'formatted_ending_balance': '4,956,104,993 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('3295254804'), 'formatted_debit_turnover': '3,295,254,804 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('3295254804'), 'formatted_ending_balance': '3,295,254,804 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('6678682661209'), 'formatted_total_debit_turnover': '6,678,682,661,209 ریال', 'total_credit_turnover': Decimal('6528036703582'), 'formatted_total_credit_turnover': '6,528,036,703,582 ریال', 'total_ending_balance': Decimal('150645957627'), 'formatted_total_ending_balance': '150,645,957,627 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('6678682661209'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('6528036703582'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('150645957627'), 'color': '#FF9800'}]}}
2025-11-01 20:42:28,375 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-01 20:42:31,248 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-01 20:42:37,271 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-01 20:43:33,678 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت بدهی به حقوق صاحبان سهام, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-01', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-02 09:23:18,362 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-02 09:23:18,388 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-02 09:23:18,463 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-02 09:23:18,465 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-02 09:23:18,467 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-03 19:29:44,105 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-03 19:29:44,140 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-03 19:29:44,229 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-03 19:29:44,231 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-03 19:29:44,233 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-03 19:37:56,082 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت های مالی رو به من بده, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-03', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('127.77'), 'formatted_value': '127.77%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-76557.56'), 'formatted_value': '-76557.56%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('102.01'), 'formatted_value': '102.01%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('127.77'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-76557.56'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-03 19:38:58,688 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب صندوق چقدر است؟, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-03', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1455242495731.0, 'formatted_amount': '-1,455,242,495,731 ریال', 'percentage': 89.04560993035358}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -500605454510.0, 'formatted_amount': '-500,605,454,510 ریال', 'percentage': 30.631814396619145}, {'account_group': 'سایر دارایی\u200cها', 'amount': -3572333523.0, 'formatted_amount': '-3,572,333,523 ریال', 'percentage': 0.21858942297475645}], 'total': -1634266413436.0, 'formatted_total': '-1,634,266,413,436 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.13079150542391213}], 'total': -2085307665173.0, 'formatted_total': '-2,085,307,665,173 ریال'}], 'summary': {'total_assets': -1634266413436.0, 'formatted_total_assets': '-1,634,266,413,436 ریال', 'total_liabilities': 0.0, 'formatted_total_liabilities': '0 ریال', 'total_equity': -2085307665173.0, 'formatted_total_equity': '-2,085,307,665,173 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 451041251737.0, 'formatted_difference': '451,041,251,737 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1634266413436.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 0.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2085307665173.0, 'color': '#2196F3'}]}}
2025-11-03 23:04:06,451 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-03 23:04:06,471 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-03 23:04:06,587 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-03 23:04:06,588 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-03 23:04:06,591 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-03 23:17:38,515 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-03 23:17:38,522 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-03 23:17:38,543 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-03 23:17:38,545 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-03 23:17:38,548 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-03 23:18:27,307 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-03 23:18:27,313 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-03 23:18:27,339 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-03 23:18:27,341 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-03 23:18:27,343 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-03 23:18:58,308 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-03 23:18:58,315 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-03 23:18:58,339 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-03 23:18:58,342 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-03 23:18:58,345 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-03 23:20:07,212 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل چهار ستونی به من بده, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-03', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1234068219422'), 'formatted_debit_turnover': '1,234,068,219,422 ریال', 'credit_turnover': Decimal('2868334632858'), 'formatted_credit_turnover': '2,868,334,632,858 ریال', 'ending_balance': Decimal('-1634266413436'), 'formatted_ending_balance': '-1,634,266,413,436 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('149764'), 'formatted_debit_turnover': '149,764 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('149764'), 'formatted_ending_balance': '149,764 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('91150000000'), 'formatted_debit_turnover': '91,150,000,000 ریال', 'credit_turnover': Decimal('59450000000'), 'formatted_credit_turnover': '59,450,000,000 ریال', 'ending_balance': Decimal('31700000000'), 'formatted_ending_balance': '31,700,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4326321276'), 'formatted_debit_turnover': '4,326,321,276 ریال', 'credit_turnover': Decimal('7053726564'), 'formatted_credit_turnover': '7,053,726,564 ریال', 'ending_balance': Decimal('-2727405288'), 'formatted_ending_balance': '-2,727,405,288 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2615672348225'), 'formatted_debit_turnover': '2,615,672,348,225 ریال', 'credit_turnover': Decimal('568868437663'), 'formatted_credit_turnover': '568,868,437,663 ریال', 'ending_balance': Decimal('2046803910562'), 'formatted_ending_balance': '2,046,803,910,562 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('36800000000'), 'formatted_debit_turnover': '36,800,000,000 ریال', 'credit_turnover': Decimal('40884980000'), 'formatted_credit_turnover': '40,884,980,000 ریال', 'ending_balance': Decimal('-4084980000'), 'formatted_ending_balance': '-4,084,980,000 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('316740405854'), 'formatted_debit_turnover': '316,740,405,854 ریال', 'credit_turnover': Decimal('410657174285'), 'formatted_credit_turnover': '410,657,174,285 ریال', 'ending_balance': Decimal('-93916768431'), 'formatted_ending_balance': '-93,916,768,431 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1616669821315'), 'formatted_debit_turnover': '1,616,669,821,315 ریال', 'credit_turnover': Decimal('103106833378'), 'formatted_credit_turnover': '103,106,833,378 ریال', 'ending_balance': Decimal('1513562987937'), 'formatted_ending_balance': '1,513,562,987,937 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('41817577756'), 'formatted_debit_turnover': '41,817,577,756 ریال', 'credit_turnover': Decimal('586417857'), 'formatted_credit_turnover': '586,417,857 ریال', 'ending_balance': Decimal('41231159899'), 'formatted_ending_balance': '41,231,159,899 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5442905491'), 'formatted_debit_turnover': '5,442,905,491 ریال', 'credit_turnover': Decimal('5297423024'), 'formatted_credit_turnover': '5,297,423,024 ریال', 'ending_balance': Decimal('145482467'), 'formatted_ending_balance': '145,482,467 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395993309'), 'formatted_credit_turnover': '486,395,993,309 ریال', 'ending_balance': Decimal('-459438094001'), 'formatted_ending_balance': '-459,438,094,001 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('26957899308'), 'formatted_debit_turnover': '26,957,899,308 ریال', 'credit_turnover': Decimal('486395957939'), 'formatted_credit_turnover': '486,395,957,939 ریال', 'ending_balance': Decimal('-459438058631'), 'formatted_ending_balance': '-459,438,058,631 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('35370'), 'formatted_credit_turnover': '35,370 ریال', 'ending_balance': Decimal('-35370'), 'formatted_ending_balance': '-35,370 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8251359797'), 'formatted_debit_turnover': '8,251,359,797 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8251359797'), 'formatted_ending_balance': '8,251,359,797 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4956104993'), 'formatted_debit_turnover': '4,956,104,993 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('4956104993'), 'formatted_ending_balance': '4,956,104,993 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('3295254804'), 'formatted_debit_turnover': '3,295,254,804 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('3295254804'), 'formatted_ending_balance': '3,295,254,804 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('6678682661209'), 'formatted_total_debit_turnover': '6,678,682,661,209 ریال', 'total_credit_turnover': Decimal('6528036703582'), 'formatted_total_credit_turnover': '6,528,036,703,582 ریال', 'total_ending_balance': Decimal('150645957627'), 'formatted_total_ending_balance': '150,645,957,627 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('6678682661209'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('6528036703582'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('150645957627'), 'color': '#FF9800'}]}}
2025-11-03 23:21:03,728 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-04 17:31:57,397 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-04 17:31:57,427 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-04 17:31:57,505 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-04 17:31:57,507 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-04 17:31:57,510 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-04 17:44:23,956 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبتهای مالی را به من بده, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-04', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('125.83'), 'formatted_value': '125.83%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('58126.05'), 'formatted_value': '58126.05%', 'status': 'عالی', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('101.98'), 'formatted_value': '101.98%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('125.83'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('58126.05'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-04 17:45:51,087 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز چهار ستونی کل را به من بده, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-04', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('3088207412837'), 'formatted_debit_turnover': '3,088,207,412,837 ریال', 'credit_turnover': Decimal('4775875977695'), 'formatted_credit_turnover': '4,775,875,977,695 ریال', 'ending_balance': Decimal('-1687668564858'), 'formatted_ending_balance': '-1,687,668,564,858 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('649764'), 'formatted_debit_turnover': '649,764 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('649764'), 'formatted_ending_balance': '649,764 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('440833380175'), 'formatted_debit_turnover': '440,833,380,175 ریال', 'credit_turnover': Decimal('416356745575'), 'formatted_credit_turnover': '416,356,745,575 ریال', 'ending_balance': Decimal('24476634600'), 'formatted_ending_balance': '24,476,634,600 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'چکهای در جریان وصول', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('7796745575'), 'formatted_debit_turnover': '7,796,745,575 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('7796745575'), 'formatted_ending_balance': '7,796,745,575 ریال'}, {'account_name': 'دارایی ثابت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('3900000000'), 'formatted_credit_turnover': '3,900,000,000 ریال', 'ending_balance': Decimal('-3900000000'), 'formatted_ending_balance': '-3,900,000,000 ریال'}, {'account_name': 'ماشین آلا ت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('3900000000'), 'formatted_credit_turnover': '3,900,000,000 ریال', 'ending_balance': Decimal('-3900000000'), 'formatted_ending_balance': '-3,900,000,000 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11035880100'), 'formatted_debit_turnover': '11,035,880,100 ریال', 'credit_turnover': Decimal('7053726564'), 'formatted_credit_turnover': '7,053,726,564 ریال', 'ending_balance': Decimal('3982153536'), 'formatted_ending_balance': '3,982,153,536 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4453689712081'), 'formatted_debit_turnover': '4,453,689,712,081 ریال', 'credit_turnover': Decimal('2270002175014'), 'formatted_credit_turnover': '2,270,002,175,014 ریال', 'ending_balance': Decimal('2183687537067'), 'formatted_ending_balance': '2,183,687,537,067 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('384324644992'), 'formatted_debit_turnover': '384,324,644,992 ریال', 'credit_turnover': Decimal('431046300000'), 'formatted_credit_turnover': '431,046,300,000 ریال', 'ending_balance': Decimal('-46721655008'), 'formatted_ending_balance': '-46,721,655,008 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1519978725854'), 'formatted_debit_turnover': '1,519,978,725,854 ریال', 'credit_turnover': Decimal('1439685647886'), 'formatted_credit_turnover': '1,439,685,647,886 ریال', 'ending_balance': Decimal('80293077968'), 'formatted_ending_balance': '80,293,077,968 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1903924220179'), 'formatted_debit_turnover': '1,903,924,220,179 ریال', 'credit_turnover': Decimal('379476877128'), 'formatted_credit_turnover': '379,476,877,128 ریال', 'ending_balance': Decimal('1524447343051'), 'formatted_ending_balance': '1,524,447,343,051 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('54735768195'), 'formatted_debit_turnover': '54,735,768,195 ریال', 'credit_turnover': Decimal('649017857'), 'formatted_credit_turnover': '649,017,857 ریال', 'ending_balance': Decimal('54086750338'), 'formatted_ending_balance': '54,086,750,338 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5642905491'), 'formatted_debit_turnover': '5,642,905,491 ریال', 'credit_turnover': Decimal('5297423024'), 'formatted_credit_turnover': '5,297,423,024 ریال', 'ending_balance': Decimal('345482467'), 'formatted_ending_balance': '345,482,467 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('53056198962'), 'formatted_debit_turnover': '53,056,198,962 ریال', 'credit_turnover': Decimal('601632089570'), 'formatted_credit_turnover': '601,632,089,570 ریال', 'ending_balance': Decimal('-548575890608'), 'formatted_ending_balance': '-548,575,890,608 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('53056198962'), 'formatted_debit_turnover': '53,056,198,962 ریال', 'credit_turnover': Decimal('601631726081'), 'formatted_credit_turnover': '601,631,726,081 ریال', 'ending_balance': Decimal('-548575527119'), 'formatted_ending_balance': '-548,575,527,119 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('363489'), 'formatted_credit_turnover': '363,489 ریال', 'ending_balance': Decimal('-363489'), 'formatted_ending_balance': '-363,489 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('14940432058'), 'formatted_debit_turnover': '14,940,432,058 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('14940432058'), 'formatted_ending_balance': '14,940,432,058 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11240333254'), 'formatted_debit_turnover': '11,240,333,254 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('11240333254'), 'formatted_ending_balance': '11,240,333,254 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('3700098804'), 'formatted_debit_turnover': '3,700,098,804 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('3700098804'), 'formatted_ending_balance': '3,700,098,804 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('12651739701179'), 'formatted_total_debit_turnover': '12,651,739,701,179 ریال', 'total_credit_turnover': Decimal('12427513161218'), 'formatted_total_credit_turnover': '12,427,513,161,218 ریال', 'total_ending_balance': Decimal('224226539961'), 'formatted_total_ending_balance': '224,226,539,961 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('12651739701179'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('12427513161218'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('224226539961'), 'color': '#FF9800'}]}}
2025-11-04 17:47:02,322 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: حالت چطوره؟, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-04 17:47:24,997 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-04', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1457190059356.0, 'formatted_amount': '-1,457,190,059,356 ریال', 'percentage': 84.70317523087105}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -1030356490842.0, 'formatted_amount': '-1,030,356,490,842 ریال', 'percentage': 59.892301511187874}, {'account_group': 'سایر دارایی\u200cها', 'amount': 1915886477.0, 'formatted_amount': '1,915,886,477 ریال', 'percentage': -0.11136616458631828}], 'total': -1720348800838.0, 'formatted_total': '-1,720,348,800,838 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'بدهی\u200cهای بلندمدت', 'amount': 3900000000.0, 'formatted_amount': '3,900,000,000 ریال', 'percentage': 119.41212492345376}, {'account_group': 'سرمایه', 'amount': 2727405288.0, 'formatted_amount': '2,727,405,288 ریال', 'percentage': -0.1147011283711713}, {'account_group': 'سود انباشته', 'amount': -6709558824.0, 'formatted_amount': '-6,709,558,824 ریال', 'percentage': 0.28217073984992186}], 'total': -2374570492745.0, 'formatted_total': '-2,374,570,492,745 ریال'}], 'summary': {'total_assets': -1720348800838.0, 'formatted_total_assets': '-1,720,348,800,838 ریال', 'total_liabilities': 3266000000.0, 'formatted_total_liabilities': '3,266,000,000 ریال', 'total_equity': -2377836492745.0, 'formatted_total_equity': '-2,377,836,492,745 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 654221691907.0, 'formatted_difference': '654,221,691,907 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1720348800838.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 3266000000.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2377836492745.0, 'color': '#2196F3'}]}}
2025-11-04 17:49:51,374 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: طرف حساب تنخواه ها رو به من بده, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-04', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1442799825956.0, 'formatted_amount': '-1,442,799,825,956 ریال', 'percentage': 142.70332518428853}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -725567069738.0, 'formatted_amount': '-725,567,069,738 ریال', 'percentage': 71.76382449812604}, {'account_group': 'سایر دارایی\u200cها', 'amount': 2274886477.0, 'formatted_amount': '2,274,886,477 ریال', 'percentage': -0.22500270574233608}], 'total': -1011048498059.0, 'formatted_total': '-1,011,048,498,059 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'بدهی\u200cهای بلندمدت', 'amount': 46400000000.0, 'formatted_amount': '46,400,000,000 ریال', 'percentage': 101.8303120747926}, {'account_group': 'سرمایه', 'amount': 10500282878.0, 'formatted_amount': '10,500,282,878 ریال', 'percentage': -0.5132188532795248}, {'account_group': 'سود انباشته', 'amount': -6709558824.0, 'formatted_amount': '-6,709,558,824 ریال', 'percentage': 0.32794088746689826}], 'total': -2000399928746.0, 'formatted_total': '-2,000,399,928,746 ریال'}], 'summary': {'total_assets': -1011048498059.0, 'formatted_total_assets': '-1,011,048,498,059 ریال', 'total_liabilities': 45566000000.0, 'formatted_total_liabilities': '45,566,000,000 ریال', 'total_equity': -2045965928746.0, 'formatted_total_equity': '-2,045,965,928,746 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 989351430687.0, 'formatted_difference': '989,351,430,687 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1011048498059.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 45566000000.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2045965928746.0, 'color': '#2196F3'}]}}
2025-11-04 17:53:00,243 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: فایل بانک ملی آپلود شده را با اسناد پرداختنی و حساب بانک مغایرت گیری کن, A: 
        گزارش انحرافات مالی برای شرکت 1 - دوره 1
        
        انحرافات شناسایی شده:
        - 71 حساب با مانده منفی شناسایی شد
- 1204 گردش مالی بسیار بزرگ شناسایی شد
        
        جمع‌بندی:
        - تعداد انحرافات شناسایی شده: 2
        - وضعیت سیستم کنترل داخلی: نیازمند بررسی
        - توصیه: بررسی فوری انحرافات
        
        تاریخ تحلیل: امروز
        
2025-11-04 18:15:18,602 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت های مالی رو به من بده, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-04', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('202.74'), 'formatted_value': '202.74%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-54072.96'), 'formatted_value': '-54072.96%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('104.41'), 'formatted_value': '104.41%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('202.74'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-54072.96'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-04 18:16:16,580 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل چهار ستونی به من بده, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-04', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4502645241638'), 'formatted_debit_turnover': '4,502,645,241,638 ریال', 'credit_turnover': Decimal('5513693739697'), 'formatted_credit_turnover': '5,513,693,739,697 ریال', 'ending_balance': Decimal('-1011048498059'), 'formatted_ending_balance': '-1,011,048,498,059 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('705964'), 'formatted_debit_turnover': '705,964 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('705964'), 'formatted_ending_balance': '705,964 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('516108890175'), 'formatted_debit_turnover': '516,108,890,175 ریال', 'credit_turnover': Decimal('496547890175'), 'formatted_credit_turnover': '496,547,890,175 ریال', 'ending_balance': Decimal('19561000000'), 'formatted_ending_balance': '19,561,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'چکهای در جریان وصول', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('28031755575'), 'formatted_debit_turnover': '28,031,755,575 ریال', 'credit_turnover': Decimal('3450642000'), 'formatted_credit_turnover': '3,450,642,000 ریال', 'ending_balance': Decimal('24581113575'), 'formatted_ending_balance': '24,581,113,575 ریال'}, {'account_name': 'دارایی ثابت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('834000000'), 'formatted_debit_turnover': '834,000,000 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-45566000000'), 'formatted_ending_balance': '-45,566,000,000 ریال'}, {'account_name': 'ماشین آلا ت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-46400000000'), 'formatted_ending_balance': '-46,400,000,000 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11035880100'), 'formatted_debit_turnover': '11,035,880,100 ریال', 'credit_turnover': Decimal('14826604154'), 'formatted_credit_turnover': '14,826,604,154 ریال', 'ending_balance': Decimal('-3790724054'), 'formatted_ending_balance': '-3,790,724,054 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5391903419762'), 'formatted_debit_turnover': '5,391,903,419,762 ریال', 'credit_turnover': Decimal('3428798736682'), 'formatted_credit_turnover': '3,428,798,736,682 ریال', 'ending_balance': Decimal('1963104683080'), 'formatted_ending_balance': '1,963,104,683,080 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('391893107192'), 'formatted_debit_turnover': '391,893,107,192 ریال', 'credit_turnover': Decimal('942826300000'), 'formatted_credit_turnover': '942,826,300,000 ریال', 'ending_balance': Decimal('-550933192808'), 'formatted_ending_balance': '-550,933,192,808 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2413602941631'), 'formatted_debit_turnover': '2,413,602,941,631 ریال', 'credit_turnover': Decimal('1957466117687'), 'formatted_credit_turnover': '1,957,466,117,687 ریال', 'ending_balance': Decimal('456136823944'), 'formatted_ending_balance': '456,136,823,944 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1940945249883'), 'formatted_debit_turnover': '1,940,945,249,883 ریال', 'credit_turnover': Decimal('494560668995'), 'formatted_credit_turnover': '494,560,668,995 ریال', 'ending_balance': Decimal('1446384580888'), 'formatted_ending_balance': '1,446,384,580,888 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('87300987577'), 'formatted_debit_turnover': '87,300,987,577 ریال', 'credit_turnover': Decimal('649017857'), 'formatted_credit_turnover': '649,017,857 ریال', 'ending_balance': Decimal('86651969720'), 'formatted_ending_balance': '86,651,969,720 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11827687355'), 'formatted_debit_turnover': '11,827,687,355 ریال', 'credit_turnover': Decimal('7496355062'), 'formatted_credit_turnover': '7,496,355,062 ریال', 'ending_balance': Decimal('4331332293'), 'formatted_ending_balance': '4,331,332,293 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293622326'), 'formatted_credit_turnover': '1,128,293,622,326 ریال', 'ending_balance': Decimal('-1017939522228'), 'formatted_ending_balance': '-1,017,939,522,228 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293222585'), 'formatted_credit_turnover': '1,128,293,222,585 ریال', 'ending_balance': Decimal('-1017939122487'), 'formatted_ending_balance': '-1,017,939,122,487 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('399741'), 'formatted_credit_turnover': '399,741 ریال', 'ending_balance': Decimal('-399741'), 'formatted_ending_balance': '-399,741 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('24256759248'), 'formatted_debit_turnover': '24,256,759,248 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('24256759248'), 'formatted_ending_balance': '24,256,759,248 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('16254092815'), 'formatted_debit_turnover': '16,254,092,815 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('16254092815'), 'formatted_ending_balance': '16,254,092,815 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8002666433'), 'formatted_debit_turnover': '8,002,666,433 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8002666433'), 'formatted_ending_balance': '8,002,666,433 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('16210927979440'), 'formatted_total_debit_turnover': '16,210,927,979,440 ریال', 'total_credit_turnover': Decimal('16700708408296'), 'formatted_total_credit_turnover': '16,700,708,408,296 ریال', 'total_ending_balance': Decimal('-489780428856'), 'formatted_total_ending_balance': '-489,780,428,856 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('16210927979440'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('16700708408296'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('489780428856'), 'color': '#FF9800'}]}}
2025-11-05 08:15:44,976 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 08:15:45,017 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 08:15:45,078 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 08:15:45,085 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 08:15:45,085 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 08:16:53,645 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز معین چهار ستونی بده, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-05', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4502645241638'), 'formatted_debit_turnover': '4,502,645,241,638 ریال', 'credit_turnover': Decimal('5513693739697'), 'formatted_credit_turnover': '5,513,693,739,697 ریال', 'ending_balance': Decimal('-1011048498059'), 'formatted_ending_balance': '-1,011,048,498,059 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('705964'), 'formatted_debit_turnover': '705,964 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('705964'), 'formatted_ending_balance': '705,964 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('516108890175'), 'formatted_debit_turnover': '516,108,890,175 ریال', 'credit_turnover': Decimal('496547890175'), 'formatted_credit_turnover': '496,547,890,175 ریال', 'ending_balance': Decimal('19561000000'), 'formatted_ending_balance': '19,561,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'چکهای در جریان وصول', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('28031755575'), 'formatted_debit_turnover': '28,031,755,575 ریال', 'credit_turnover': Decimal('3450642000'), 'formatted_credit_turnover': '3,450,642,000 ریال', 'ending_balance': Decimal('24581113575'), 'formatted_ending_balance': '24,581,113,575 ریال'}, {'account_name': 'دارایی ثابت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('834000000'), 'formatted_debit_turnover': '834,000,000 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-45566000000'), 'formatted_ending_balance': '-45,566,000,000 ریال'}, {'account_name': 'ماشین آلا ت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-46400000000'), 'formatted_ending_balance': '-46,400,000,000 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11035880100'), 'formatted_debit_turnover': '11,035,880,100 ریال', 'credit_turnover': Decimal('14826604154'), 'formatted_credit_turnover': '14,826,604,154 ریال', 'ending_balance': Decimal('-3790724054'), 'formatted_ending_balance': '-3,790,724,054 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5391903419762'), 'formatted_debit_turnover': '5,391,903,419,762 ریال', 'credit_turnover': Decimal('3428798736682'), 'formatted_credit_turnover': '3,428,798,736,682 ریال', 'ending_balance': Decimal('1963104683080'), 'formatted_ending_balance': '1,963,104,683,080 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('391893107192'), 'formatted_debit_turnover': '391,893,107,192 ریال', 'credit_turnover': Decimal('942826300000'), 'formatted_credit_turnover': '942,826,300,000 ریال', 'ending_balance': Decimal('-550933192808'), 'formatted_ending_balance': '-550,933,192,808 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2413602941631'), 'formatted_debit_turnover': '2,413,602,941,631 ریال', 'credit_turnover': Decimal('1957466117687'), 'formatted_credit_turnover': '1,957,466,117,687 ریال', 'ending_balance': Decimal('456136823944'), 'formatted_ending_balance': '456,136,823,944 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1940945249883'), 'formatted_debit_turnover': '1,940,945,249,883 ریال', 'credit_turnover': Decimal('494560668995'), 'formatted_credit_turnover': '494,560,668,995 ریال', 'ending_balance': Decimal('1446384580888'), 'formatted_ending_balance': '1,446,384,580,888 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('87300987577'), 'formatted_debit_turnover': '87,300,987,577 ریال', 'credit_turnover': Decimal('649017857'), 'formatted_credit_turnover': '649,017,857 ریال', 'ending_balance': Decimal('86651969720'), 'formatted_ending_balance': '86,651,969,720 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11827687355'), 'formatted_debit_turnover': '11,827,687,355 ریال', 'credit_turnover': Decimal('7496355062'), 'formatted_credit_turnover': '7,496,355,062 ریال', 'ending_balance': Decimal('4331332293'), 'formatted_ending_balance': '4,331,332,293 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293622326'), 'formatted_credit_turnover': '1,128,293,622,326 ریال', 'ending_balance': Decimal('-1017939522228'), 'formatted_ending_balance': '-1,017,939,522,228 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293222585'), 'formatted_credit_turnover': '1,128,293,222,585 ریال', 'ending_balance': Decimal('-1017939122487'), 'formatted_ending_balance': '-1,017,939,122,487 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('399741'), 'formatted_credit_turnover': '399,741 ریال', 'ending_balance': Decimal('-399741'), 'formatted_ending_balance': '-399,741 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('24256759248'), 'formatted_debit_turnover': '24,256,759,248 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('24256759248'), 'formatted_ending_balance': '24,256,759,248 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('16254092815'), 'formatted_debit_turnover': '16,254,092,815 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('16254092815'), 'formatted_ending_balance': '16,254,092,815 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8002666433'), 'formatted_debit_turnover': '8,002,666,433 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8002666433'), 'formatted_ending_balance': '8,002,666,433 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('16210927979440'), 'formatted_total_debit_turnover': '16,210,927,979,440 ریال', 'total_credit_turnover': Decimal('16700708408296'), 'formatted_total_credit_turnover': '16,700,708,408,296 ریال', 'total_ending_balance': Decimal('-489780428856'), 'formatted_total_ending_balance': '-489,780,428,856 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('16210927979440'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('16700708408296'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('489780428856'), 'color': '#FF9800'}]}}
2025-11-05 08:17:24,011 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 08:17:50,337 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 13:45:56,544 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 13:45:56,580 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 13:45:56,613 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 13:45:56,613 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 13:45:56,613 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 13:46:37,650 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-05', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('202.74'), 'formatted_value': '202.74%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-54072.96'), 'formatted_value': '-54072.96%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('104.41'), 'formatted_value': '104.41%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('202.74'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-54072.96'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-05 13:46:42,172 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تحلیل دارایی‌های جاری را ارائه دهید, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-05', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1442799825956.0, 'formatted_amount': '-1,442,799,825,956 ریال', 'percentage': 142.70332518428853}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -725567069738.0, 'formatted_amount': '-725,567,069,738 ریال', 'percentage': 71.76382449812604}, {'account_group': 'سایر دارایی\u200cها', 'amount': 2274886477.0, 'formatted_amount': '2,274,886,477 ریال', 'percentage': -0.22500270574233608}], 'total': -1011048498059.0, 'formatted_total': '-1,011,048,498,059 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'بدهی\u200cهای بلندمدت', 'amount': 46400000000.0, 'formatted_amount': '46,400,000,000 ریال', 'percentage': 101.8303120747926}, {'account_group': 'سرمایه', 'amount': 10500282878.0, 'formatted_amount': '10,500,282,878 ریال', 'percentage': -0.5132188532795248}, {'account_group': 'سود انباشته', 'amount': -6709558824.0, 'formatted_amount': '-6,709,558,824 ریال', 'percentage': 0.32794088746689826}], 'total': -2000399928746.0, 'formatted_total': '-2,000,399,928,746 ریال'}], 'summary': {'total_assets': -1011048498059.0, 'formatted_total_assets': '-1,011,048,498,059 ریال', 'total_liabilities': 45566000000.0, 'formatted_total_liabilities': '45,566,000,000 ریال', 'total_equity': -2045965928746.0, 'formatted_total_equity': '-2,045,965,928,746 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 989351430687.0, 'formatted_difference': '989,351,430,687 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1011048498059.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 45566000000.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2045965928746.0, 'color': '#2196F3'}]}}
2025-11-05 13:46:56,379 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مانده حساب بانک ملی رو به من بده, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-05', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1442799825956.0, 'formatted_amount': '-1,442,799,825,956 ریال', 'percentage': 142.70332518428853}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -725567069738.0, 'formatted_amount': '-725,567,069,738 ریال', 'percentage': 71.76382449812604}, {'account_group': 'سایر دارایی\u200cها', 'amount': 2274886477.0, 'formatted_amount': '2,274,886,477 ریال', 'percentage': -0.22500270574233608}], 'total': -1011048498059.0, 'formatted_total': '-1,011,048,498,059 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'بدهی\u200cهای بلندمدت', 'amount': 46400000000.0, 'formatted_amount': '46,400,000,000 ریال', 'percentage': 101.8303120747926}, {'account_group': 'سرمایه', 'amount': 10500282878.0, 'formatted_amount': '10,500,282,878 ریال', 'percentage': -0.5132188532795248}, {'account_group': 'سود انباشته', 'amount': -6709558824.0, 'formatted_amount': '-6,709,558,824 ریال', 'percentage': 0.32794088746689826}], 'total': -2000399928746.0, 'formatted_total': '-2,000,399,928,746 ریال'}], 'summary': {'total_assets': -1011048498059.0, 'formatted_total_assets': '-1,011,048,498,059 ریال', 'total_liabilities': 45566000000.0, 'formatted_total_liabilities': '45,566,000,000 ریال', 'total_equity': -2045965928746.0, 'formatted_total_equity': '-2,045,965,928,746 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 989351430687.0, 'formatted_difference': '989,351,430,687 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1011048498059.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 45566000000.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2045965928746.0, 'color': '#2196F3'}]}}
2025-11-05 13:47:11,967 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 16:58:43,352 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 16:59:02,120 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 16:59:02,130 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 16:59:02,142 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 16:59:02,161 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 16:59:02,168 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 16:59:02,260 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 16:59:05,735 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 16:59:30,311 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 16:59:30,316 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 16:59:30,329 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 16:59:30,329 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 16:59:30,330 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 17:03:07,483 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 17:03:07,495 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 17:03:07,589 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 17:03:07,603 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 17:03:07,615 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 17:28:25,611 - financial_system.optimization.services - INFO - سرویس کش‌گذاری پیشرفته راه‌اندازی شد
2025-11-05 18:22:36,803 - financial_system.services.model_improvement - ERROR - خطا در پردازش فیدبک: 'str' object has no attribute 'strftime'
2025-11-05 19:46:09,032 - financial_system.views - WARNING - تحلیل‌گرها در دسترس نیستند: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 19:46:09,037 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 19:46:09,067 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 19:46:09,072 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 19:46:09,080 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 19:46:54,670 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل چهار ستونی بده, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-05', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4502645241638'), 'formatted_debit_turnover': '4,502,645,241,638 ریال', 'credit_turnover': Decimal('5513693739697'), 'formatted_credit_turnover': '5,513,693,739,697 ریال', 'ending_balance': Decimal('-1011048498059'), 'formatted_ending_balance': '-1,011,048,498,059 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('705964'), 'formatted_debit_turnover': '705,964 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('705964'), 'formatted_ending_balance': '705,964 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('516108890175'), 'formatted_debit_turnover': '516,108,890,175 ریال', 'credit_turnover': Decimal('496547890175'), 'formatted_credit_turnover': '496,547,890,175 ریال', 'ending_balance': Decimal('19561000000'), 'formatted_ending_balance': '19,561,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'چکهای در جریان وصول', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('28031755575'), 'formatted_debit_turnover': '28,031,755,575 ریال', 'credit_turnover': Decimal('3450642000'), 'formatted_credit_turnover': '3,450,642,000 ریال', 'ending_balance': Decimal('24581113575'), 'formatted_ending_balance': '24,581,113,575 ریال'}, {'account_name': 'دارایی ثابت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('834000000'), 'formatted_debit_turnover': '834,000,000 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-45566000000'), 'formatted_ending_balance': '-45,566,000,000 ریال'}, {'account_name': 'ماشین آلا ت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-46400000000'), 'formatted_ending_balance': '-46,400,000,000 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11035880100'), 'formatted_debit_turnover': '11,035,880,100 ریال', 'credit_turnover': Decimal('14826604154'), 'formatted_credit_turnover': '14,826,604,154 ریال', 'ending_balance': Decimal('-3790724054'), 'formatted_ending_balance': '-3,790,724,054 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5391903419762'), 'formatted_debit_turnover': '5,391,903,419,762 ریال', 'credit_turnover': Decimal('3428798736682'), 'formatted_credit_turnover': '3,428,798,736,682 ریال', 'ending_balance': Decimal('1963104683080'), 'formatted_ending_balance': '1,963,104,683,080 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('391893107192'), 'formatted_debit_turnover': '391,893,107,192 ریال', 'credit_turnover': Decimal('942826300000'), 'formatted_credit_turnover': '942,826,300,000 ریال', 'ending_balance': Decimal('-550933192808'), 'formatted_ending_balance': '-550,933,192,808 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2413602941631'), 'formatted_debit_turnover': '2,413,602,941,631 ریال', 'credit_turnover': Decimal('1957466117687'), 'formatted_credit_turnover': '1,957,466,117,687 ریال', 'ending_balance': Decimal('456136823944'), 'formatted_ending_balance': '456,136,823,944 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1940945249883'), 'formatted_debit_turnover': '1,940,945,249,883 ریال', 'credit_turnover': Decimal('494560668995'), 'formatted_credit_turnover': '494,560,668,995 ریال', 'ending_balance': Decimal('1446384580888'), 'formatted_ending_balance': '1,446,384,580,888 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('87300987577'), 'formatted_debit_turnover': '87,300,987,577 ریال', 'credit_turnover': Decimal('649017857'), 'formatted_credit_turnover': '649,017,857 ریال', 'ending_balance': Decimal('86651969720'), 'formatted_ending_balance': '86,651,969,720 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11827687355'), 'formatted_debit_turnover': '11,827,687,355 ریال', 'credit_turnover': Decimal('7496355062'), 'formatted_credit_turnover': '7,496,355,062 ریال', 'ending_balance': Decimal('4331332293'), 'formatted_ending_balance': '4,331,332,293 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293622326'), 'formatted_credit_turnover': '1,128,293,622,326 ریال', 'ending_balance': Decimal('-1017939522228'), 'formatted_ending_balance': '-1,017,939,522,228 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293222585'), 'formatted_credit_turnover': '1,128,293,222,585 ریال', 'ending_balance': Decimal('-1017939122487'), 'formatted_ending_balance': '-1,017,939,122,487 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('399741'), 'formatted_credit_turnover': '399,741 ریال', 'ending_balance': Decimal('-399741'), 'formatted_ending_balance': '-399,741 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('24256759248'), 'formatted_debit_turnover': '24,256,759,248 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('24256759248'), 'formatted_ending_balance': '24,256,759,248 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('16254092815'), 'formatted_debit_turnover': '16,254,092,815 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('16254092815'), 'formatted_ending_balance': '16,254,092,815 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8002666433'), 'formatted_debit_turnover': '8,002,666,433 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8002666433'), 'formatted_ending_balance': '8,002,666,433 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('16210927979440'), 'formatted_total_debit_turnover': '16,210,927,979,440 ریال', 'total_credit_turnover': Decimal('16700708408296'), 'formatted_total_credit_turnover': '16,700,708,408,296 ریال', 'total_ending_balance': Decimal('-489780428856'), 'formatted_total_ending_balance': '-489,780,428,856 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('16210927979440'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('16700708408296'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('489780428856'), 'color': '#FF9800'}]}}
2025-11-05 19:47:23,132 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل فروردین رو با تراز کل اردیبهشت مقایسه کن, A: 
        📊 مقایسه نسبت آنی - شرکت 1
        
        | دوره | مقدار | تغییر |
        |------|-------|--------|
        | دوره 1 | 0.00 | - |
        | دوره 2 | 0.00 | +0.00 (+0.0%) |
        
        تحلیل:
        - نسبت آنی در دوره 2 نسبت به دوره 1 کاهش یافته است
        - روند: منفی
        - میزان تغییر: +0.0%
        - توصیه: بررسی علل کاهش
        
2025-11-05 19:50:38,098 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 19:51:57,349 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 19:53:01,241 - financial_system.views - ERROR - خطا در بارگذاری ابزارهای LangChain: cannot import name 'Tool' from 'langchain.tools' (E:\python\finance\.venv\Lib\site-packages\langchain\tools\__init__.py)
2025-11-05 20:27:49,967 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 20:27:49,970 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 20:27:50,010 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 20:27:50,010 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 20:27:50,016 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 20:27:50,016 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 20:27:50,017 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 20:27:50,017 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 20:28:44,574 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 20:28:44,591 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 20:28:44,641 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 20:28:44,657 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 20:28:44,657 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 20:28:44,641 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 20:28:44,657 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 20:28:44,657 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 20:29:33,852 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 20:29:33,936 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 20:29:33,936 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 20:29:33,937 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 20:29:33,991 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 20:29:34,031 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 20:29:34,035 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 20:29:34,038 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 20:30:30,695 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 20:30:30,772 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 20:30:30,847 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 20:30:30,862 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 20:30:30,864 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 20:30:30,865 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 20:30:30,870 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 20:30:30,898 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 20:44:51,047 - financial_system.views - ERROR - خطا در اجرای ابزار تحلیل نسبت‌های مالی: StructuredTool._run() missing 1 required keyword-only argument: 'config'
2025-11-05 20:46:36,102 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: StructuredTool._run() missing 1 required keyword-only argument: 'config'
2025-11-05 20:47:15,347 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: StructuredTool._run() missing 1 required keyword-only argument: 'config'
2025-11-05 20:51:16,673 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 20:51:16,773 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 20:51:16,859 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 20:51:16,946 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 21:56:31,277 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 21:56:31,378 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 21:56:31,378 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 21:56:31,378 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 22:03:17,432 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 22:03:17,526 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 22:03:17,529 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 22:03:17,531 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 22:07:25,888 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 22:07:25,993 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 22:07:25,993 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 22:07:25,993 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 22:08:57,520 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 22:08:57,617 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 22:08:57,617 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 22:08:57,617 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 22:28:41,443 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 22:28:41,571 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 22:28:41,571 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 22:28:41,571 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 22:30:48,194 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 22:30:48,342 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 22:30:48,342 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 22:30:48,342 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 22:34:38,087 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: BaseTool.run() missing 1 required positional argument: 'tool_input'
2025-11-05 22:34:58,669 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: BaseTool.run() missing 1 required positional argument: 'tool_input'
2025-11-05 22:39:18,143 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 22:39:18,349 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 22:39:18,356 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 22:39:18,362 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 22:41:18,297 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: BaseTool.run() missing 1 required positional argument: 'tool_input'
2025-11-05 22:41:29,912 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: BaseTool.run() missing 1 required positional argument: 'tool_input'
2025-11-05 22:47:05,438 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 22:47:05,657 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 22:47:05,675 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 22:47:05,675 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 22:49:25,644 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: 2 validation errors for analyze_balance_sheet
company_id
  Field required [type=missing, input_value={'self': '{"company_id": 1, "period_id": 1}'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
period_id
  Field required [type=missing, input_value={'self': '{"company_id": 1, "period_id": 1}'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-11-05 22:53:24,359 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 22:53:24,427 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 22:53:24,428 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 22:53:24,429 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 22:56:19,662 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: 1 validation error for analyze_balance_sheet
self
  Field required [type=missing, input_value={'company_id': 1, 'period_id': 1}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-11-05 22:57:02,643 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: 1 validation error for analyze_current_assets
self
  Field required [type=missing, input_value={'company_id': 1, 'period_id': 1}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-11-05 22:57:20,289 - financial_system.views - ERROR - خطا در اجرای ابزار تحلیل نسبت‌های مالی: financial_system/tool_result.html
2025-11-05 22:58:00,586 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: 1 validation error for analyze_balance_sheet
self
  Field required [type=missing, input_value={'company_id': 1, 'period_id': 1}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-11-05 23:05:21,243 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-05 23:05:21,329 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-05 23:05:21,330 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-05 23:05:21,333 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-05 23:05:55,833 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: 1 validation error for analyze_balance_sheet
self
  Field required [type=missing, input_value={'company_id': 1, 'period_id': 1}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-11-05 23:06:07,914 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: 1 validation error for analyze_current_assets
self
  Field required [type=missing, input_value={'company_id': 1, 'period_id': 1}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.10/v/missing
2025-11-06 11:42:15,195 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 11:42:15,384 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 11:42:15,386 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 11:42:15,388 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-06 13:14:48,619 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: BalanceSheetAnalyzer.analyze_balance_sheet() missing 1 required positional argument: 'self'
2025-11-06 13:21:08,990 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 13:21:09,075 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 13:21:09,075 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 13:21:09,076 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-06 13:23:37,537 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: CurrentAssetsAnalyzer.analyze_current_assets() missing 1 required positional argument: 'self'
2025-11-06 13:23:46,093 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: BalanceSheetAnalyzer.analyze_balance_sheet() missing 1 required positional argument: 'self'
2025-11-06 13:30:29,274 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 13:30:29,358 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 13:30:29,358 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 13:30:29,358 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-06 13:31:05,963 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: financial_system/tool_result.html
2025-11-06 13:34:13,383 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_balance_sheet: financial_system/tool_result.html
2025-11-06 15:03:01,473 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 15:03:01,618 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 15:03:01,621 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 15:03:01,625 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-06 17:32:54,040 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 17:32:54,209 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 17:32:54,209 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 17:32:54,209 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-06 17:33:40,689 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: CurrentAssetsAnalyzer.analyze_current_assets() missing 1 required positional argument: 'self'
2025-11-06 17:39:02,869 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 17:39:03,147 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 17:39:03,154 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 17:39:03,158 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-06 17:40:56,312 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 17:40:56,353 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 17:40:56,353 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 17:40:56,353 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-06 17:50:39,450 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: CurrentAssetsAnalyzer.analyze_current_assets() got an unexpected keyword argument 'company_id'
2025-11-06 17:51:10,429 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل چهار ستونی بده, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-06', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4502645241638'), 'formatted_debit_turnover': '4,502,645,241,638 ریال', 'credit_turnover': Decimal('5513693739697'), 'formatted_credit_turnover': '5,513,693,739,697 ریال', 'ending_balance': Decimal('-1011048498059'), 'formatted_ending_balance': '-1,011,048,498,059 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('705964'), 'formatted_debit_turnover': '705,964 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('705964'), 'formatted_ending_balance': '705,964 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('516108890175'), 'formatted_debit_turnover': '516,108,890,175 ریال', 'credit_turnover': Decimal('496547890175'), 'formatted_credit_turnover': '496,547,890,175 ریال', 'ending_balance': Decimal('19561000000'), 'formatted_ending_balance': '19,561,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'چکهای در جریان وصول', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('28031755575'), 'formatted_debit_turnover': '28,031,755,575 ریال', 'credit_turnover': Decimal('3450642000'), 'formatted_credit_turnover': '3,450,642,000 ریال', 'ending_balance': Decimal('24581113575'), 'formatted_ending_balance': '24,581,113,575 ریال'}, {'account_name': 'دارایی ثابت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('834000000'), 'formatted_debit_turnover': '834,000,000 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-45566000000'), 'formatted_ending_balance': '-45,566,000,000 ریال'}, {'account_name': 'ماشین آلا ت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-46400000000'), 'formatted_ending_balance': '-46,400,000,000 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11035880100'), 'formatted_debit_turnover': '11,035,880,100 ریال', 'credit_turnover': Decimal('14826604154'), 'formatted_credit_turnover': '14,826,604,154 ریال', 'ending_balance': Decimal('-3790724054'), 'formatted_ending_balance': '-3,790,724,054 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5391903419762'), 'formatted_debit_turnover': '5,391,903,419,762 ریال', 'credit_turnover': Decimal('3428798736682'), 'formatted_credit_turnover': '3,428,798,736,682 ریال', 'ending_balance': Decimal('1963104683080'), 'formatted_ending_balance': '1,963,104,683,080 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('391893107192'), 'formatted_debit_turnover': '391,893,107,192 ریال', 'credit_turnover': Decimal('942826300000'), 'formatted_credit_turnover': '942,826,300,000 ریال', 'ending_balance': Decimal('-550933192808'), 'formatted_ending_balance': '-550,933,192,808 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2413602941631'), 'formatted_debit_turnover': '2,413,602,941,631 ریال', 'credit_turnover': Decimal('1957466117687'), 'formatted_credit_turnover': '1,957,466,117,687 ریال', 'ending_balance': Decimal('456136823944'), 'formatted_ending_balance': '456,136,823,944 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1940945249883'), 'formatted_debit_turnover': '1,940,945,249,883 ریال', 'credit_turnover': Decimal('494560668995'), 'formatted_credit_turnover': '494,560,668,995 ریال', 'ending_balance': Decimal('1446384580888'), 'formatted_ending_balance': '1,446,384,580,888 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('87300987577'), 'formatted_debit_turnover': '87,300,987,577 ریال', 'credit_turnover': Decimal('649017857'), 'formatted_credit_turnover': '649,017,857 ریال', 'ending_balance': Decimal('86651969720'), 'formatted_ending_balance': '86,651,969,720 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11827687355'), 'formatted_debit_turnover': '11,827,687,355 ریال', 'credit_turnover': Decimal('7496355062'), 'formatted_credit_turnover': '7,496,355,062 ریال', 'ending_balance': Decimal('4331332293'), 'formatted_ending_balance': '4,331,332,293 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293622326'), 'formatted_credit_turnover': '1,128,293,622,326 ریال', 'ending_balance': Decimal('-1017939522228'), 'formatted_ending_balance': '-1,017,939,522,228 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293222585'), 'formatted_credit_turnover': '1,128,293,222,585 ریال', 'ending_balance': Decimal('-1017939122487'), 'formatted_ending_balance': '-1,017,939,122,487 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('399741'), 'formatted_credit_turnover': '399,741 ریال', 'ending_balance': Decimal('-399741'), 'formatted_ending_balance': '-399,741 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('24256759248'), 'formatted_debit_turnover': '24,256,759,248 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('24256759248'), 'formatted_ending_balance': '24,256,759,248 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('16254092815'), 'formatted_debit_turnover': '16,254,092,815 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('16254092815'), 'formatted_ending_balance': '16,254,092,815 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8002666433'), 'formatted_debit_turnover': '8,002,666,433 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8002666433'), 'formatted_ending_balance': '8,002,666,433 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('16210927979440'), 'formatted_total_debit_turnover': '16,210,927,979,440 ریال', 'total_credit_turnover': Decimal('16700708408296'), 'formatted_total_credit_turnover': '16,700,708,408,296 ریال', 'total_ending_balance': Decimal('-489780428856'), 'formatted_total_ending_balance': '-489,780,428,856 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('16210927979440'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('16700708408296'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('489780428856'), 'color': '#FF9800'}]}}
2025-11-06 17:52:36,442 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 17:52:36,561 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 17:52:36,565 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 17:52:36,565 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-06 18:27:14,693 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز چهار ستونی بده, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-06', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4502645241638'), 'formatted_debit_turnover': '4,502,645,241,638 ریال', 'credit_turnover': Decimal('5513693739697'), 'formatted_credit_turnover': '5,513,693,739,697 ریال', 'ending_balance': Decimal('-1011048498059'), 'formatted_ending_balance': '-1,011,048,498,059 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('705964'), 'formatted_debit_turnover': '705,964 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('705964'), 'formatted_ending_balance': '705,964 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('516108890175'), 'formatted_debit_turnover': '516,108,890,175 ریال', 'credit_turnover': Decimal('496547890175'), 'formatted_credit_turnover': '496,547,890,175 ریال', 'ending_balance': Decimal('19561000000'), 'formatted_ending_balance': '19,561,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'چکهای در جریان وصول', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('28031755575'), 'formatted_debit_turnover': '28,031,755,575 ریال', 'credit_turnover': Decimal('3450642000'), 'formatted_credit_turnover': '3,450,642,000 ریال', 'ending_balance': Decimal('24581113575'), 'formatted_ending_balance': '24,581,113,575 ریال'}, {'account_name': 'دارایی ثابت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('834000000'), 'formatted_debit_turnover': '834,000,000 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-45566000000'), 'formatted_ending_balance': '-45,566,000,000 ریال'}, {'account_name': 'ماشین آلا ت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-46400000000'), 'formatted_ending_balance': '-46,400,000,000 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11035880100'), 'formatted_debit_turnover': '11,035,880,100 ریال', 'credit_turnover': Decimal('14826604154'), 'formatted_credit_turnover': '14,826,604,154 ریال', 'ending_balance': Decimal('-3790724054'), 'formatted_ending_balance': '-3,790,724,054 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5391903419762'), 'formatted_debit_turnover': '5,391,903,419,762 ریال', 'credit_turnover': Decimal('3428798736682'), 'formatted_credit_turnover': '3,428,798,736,682 ریال', 'ending_balance': Decimal('1963104683080'), 'formatted_ending_balance': '1,963,104,683,080 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('391893107192'), 'formatted_debit_turnover': '391,893,107,192 ریال', 'credit_turnover': Decimal('942826300000'), 'formatted_credit_turnover': '942,826,300,000 ریال', 'ending_balance': Decimal('-550933192808'), 'formatted_ending_balance': '-550,933,192,808 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2413602941631'), 'formatted_debit_turnover': '2,413,602,941,631 ریال', 'credit_turnover': Decimal('1957466117687'), 'formatted_credit_turnover': '1,957,466,117,687 ریال', 'ending_balance': Decimal('456136823944'), 'formatted_ending_balance': '456,136,823,944 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1940945249883'), 'formatted_debit_turnover': '1,940,945,249,883 ریال', 'credit_turnover': Decimal('494560668995'), 'formatted_credit_turnover': '494,560,668,995 ریال', 'ending_balance': Decimal('1446384580888'), 'formatted_ending_balance': '1,446,384,580,888 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('87300987577'), 'formatted_debit_turnover': '87,300,987,577 ریال', 'credit_turnover': Decimal('649017857'), 'formatted_credit_turnover': '649,017,857 ریال', 'ending_balance': Decimal('86651969720'), 'formatted_ending_balance': '86,651,969,720 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11827687355'), 'formatted_debit_turnover': '11,827,687,355 ریال', 'credit_turnover': Decimal('7496355062'), 'formatted_credit_turnover': '7,496,355,062 ریال', 'ending_balance': Decimal('4331332293'), 'formatted_ending_balance': '4,331,332,293 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293622326'), 'formatted_credit_turnover': '1,128,293,622,326 ریال', 'ending_balance': Decimal('-1017939522228'), 'formatted_ending_balance': '-1,017,939,522,228 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293222585'), 'formatted_credit_turnover': '1,128,293,222,585 ریال', 'ending_balance': Decimal('-1017939122487'), 'formatted_ending_balance': '-1,017,939,122,487 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('399741'), 'formatted_credit_turnover': '399,741 ریال', 'ending_balance': Decimal('-399741'), 'formatted_ending_balance': '-399,741 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('24256759248'), 'formatted_debit_turnover': '24,256,759,248 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('24256759248'), 'formatted_ending_balance': '24,256,759,248 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('16254092815'), 'formatted_debit_turnover': '16,254,092,815 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('16254092815'), 'formatted_ending_balance': '16,254,092,815 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8002666433'), 'formatted_debit_turnover': '8,002,666,433 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8002666433'), 'formatted_ending_balance': '8,002,666,433 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('16210927979440'), 'formatted_total_debit_turnover': '16,210,927,979,440 ریال', 'total_credit_turnover': Decimal('16700708408296'), 'formatted_total_credit_turnover': '16,700,708,408,296 ریال', 'total_ending_balance': Decimal('-489780428856'), 'formatted_total_ending_balance': '-489,780,428,856 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('16210927979440'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('16700708408296'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('489780428856'), 'color': '#FF9800'}]}}
2025-11-06 18:27:49,430 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز چهار ستونی در سطح گروه حساب به من بده, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-06', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4502645241638'), 'formatted_debit_turnover': '4,502,645,241,638 ریال', 'credit_turnover': Decimal('5513693739697'), 'formatted_credit_turnover': '5,513,693,739,697 ریال', 'ending_balance': Decimal('-1011048498059'), 'formatted_ending_balance': '-1,011,048,498,059 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('705964'), 'formatted_debit_turnover': '705,964 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('705964'), 'formatted_ending_balance': '705,964 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('516108890175'), 'formatted_debit_turnover': '516,108,890,175 ریال', 'credit_turnover': Decimal('496547890175'), 'formatted_credit_turnover': '496,547,890,175 ریال', 'ending_balance': Decimal('19561000000'), 'formatted_ending_balance': '19,561,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'چکهای در جریان وصول', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('28031755575'), 'formatted_debit_turnover': '28,031,755,575 ریال', 'credit_turnover': Decimal('3450642000'), 'formatted_credit_turnover': '3,450,642,000 ریال', 'ending_balance': Decimal('24581113575'), 'formatted_ending_balance': '24,581,113,575 ریال'}, {'account_name': 'دارایی ثابت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('834000000'), 'formatted_debit_turnover': '834,000,000 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-45566000000'), 'formatted_ending_balance': '-45,566,000,000 ریال'}, {'account_name': 'ماشین آلا ت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-46400000000'), 'formatted_ending_balance': '-46,400,000,000 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11035880100'), 'formatted_debit_turnover': '11,035,880,100 ریال', 'credit_turnover': Decimal('14826604154'), 'formatted_credit_turnover': '14,826,604,154 ریال', 'ending_balance': Decimal('-3790724054'), 'formatted_ending_balance': '-3,790,724,054 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5391903419762'), 'formatted_debit_turnover': '5,391,903,419,762 ریال', 'credit_turnover': Decimal('3428798736682'), 'formatted_credit_turnover': '3,428,798,736,682 ریال', 'ending_balance': Decimal('1963104683080'), 'formatted_ending_balance': '1,963,104,683,080 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('391893107192'), 'formatted_debit_turnover': '391,893,107,192 ریال', 'credit_turnover': Decimal('942826300000'), 'formatted_credit_turnover': '942,826,300,000 ریال', 'ending_balance': Decimal('-550933192808'), 'formatted_ending_balance': '-550,933,192,808 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2413602941631'), 'formatted_debit_turnover': '2,413,602,941,631 ریال', 'credit_turnover': Decimal('1957466117687'), 'formatted_credit_turnover': '1,957,466,117,687 ریال', 'ending_balance': Decimal('456136823944'), 'formatted_ending_balance': '456,136,823,944 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1940945249883'), 'formatted_debit_turnover': '1,940,945,249,883 ریال', 'credit_turnover': Decimal('494560668995'), 'formatted_credit_turnover': '494,560,668,995 ریال', 'ending_balance': Decimal('1446384580888'), 'formatted_ending_balance': '1,446,384,580,888 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('87300987577'), 'formatted_debit_turnover': '87,300,987,577 ریال', 'credit_turnover': Decimal('649017857'), 'formatted_credit_turnover': '649,017,857 ریال', 'ending_balance': Decimal('86651969720'), 'formatted_ending_balance': '86,651,969,720 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11827687355'), 'formatted_debit_turnover': '11,827,687,355 ریال', 'credit_turnover': Decimal('7496355062'), 'formatted_credit_turnover': '7,496,355,062 ریال', 'ending_balance': Decimal('4331332293'), 'formatted_ending_balance': '4,331,332,293 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293622326'), 'formatted_credit_turnover': '1,128,293,622,326 ریال', 'ending_balance': Decimal('-1017939522228'), 'formatted_ending_balance': '-1,017,939,522,228 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293222585'), 'formatted_credit_turnover': '1,128,293,222,585 ریال', 'ending_balance': Decimal('-1017939122487'), 'formatted_ending_balance': '-1,017,939,122,487 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('399741'), 'formatted_credit_turnover': '399,741 ریال', 'ending_balance': Decimal('-399741'), 'formatted_ending_balance': '-399,741 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('24256759248'), 'formatted_debit_turnover': '24,256,759,248 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('24256759248'), 'formatted_ending_balance': '24,256,759,248 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('16254092815'), 'formatted_debit_turnover': '16,254,092,815 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('16254092815'), 'formatted_ending_balance': '16,254,092,815 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8002666433'), 'formatted_debit_turnover': '8,002,666,433 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8002666433'), 'formatted_ending_balance': '8,002,666,433 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('16210927979440'), 'formatted_total_debit_turnover': '16,210,927,979,440 ریال', 'total_credit_turnover': Decimal('16700708408296'), 'formatted_total_credit_turnover': '16,700,708,408,296 ریال', 'total_ending_balance': Decimal('-489780428856'), 'formatted_total_ending_balance': '-489,780,428,856 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('16210927979440'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('16700708408296'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('489780428856'), 'color': '#FF9800'}]}}
2025-11-06 18:31:21,693 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: سال مالی برای دارایی بساز, A: {'success': True, 'report_type': 'balance_sheet', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'ترازنامه', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-06', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'دارایی\u200cها', 'items': [{'account_group': 'دارایی\u200cهای جاری', 'amount': -1442799825956.0, 'formatted_amount': '-1,442,799,825,956 ریال', 'percentage': 142.70332518428853}, {'account_group': 'دارایی\u200cهای ثابت', 'amount': -725567069738.0, 'formatted_amount': '-725,567,069,738 ریال', 'percentage': 71.76382449812604}, {'account_group': 'سایر دارایی\u200cها', 'amount': 2274886477.0, 'formatted_amount': '2,274,886,477 ریال', 'percentage': -0.22500270574233608}], 'total': -1011048498059.0, 'formatted_total': '-1,011,048,498,059 ریال'}, {'title': 'بدهی\u200cها و حقوق صاحبان سهام', 'items': [{'account_group': 'بدهی\u200cهای بلندمدت', 'amount': 46400000000.0, 'formatted_amount': '46,400,000,000 ریال', 'percentage': 101.8303120747926}, {'account_group': 'سرمایه', 'amount': 10500282878.0, 'formatted_amount': '10,500,282,878 ریال', 'percentage': -0.5132188532795248}, {'account_group': 'سود انباشته', 'amount': -6709558824.0, 'formatted_amount': '-6,709,558,824 ریال', 'percentage': 0.32794088746689826}], 'total': -2000399928746.0, 'formatted_total': '-2,000,399,928,746 ریال'}], 'summary': {'total_assets': -1011048498059.0, 'formatted_total_assets': '-1,011,048,498,059 ریال', 'total_liabilities': 45566000000.0, 'formatted_total_liabilities': '45,566,000,000 ریال', 'total_equity': -2045965928746.0, 'formatted_total_equity': '-2,045,965,928,746 ریال', 'balance_status': 'نامتعادل', 'balance_check': False, 'difference': 989351430687.0, 'formatted_difference': '989,351,430,687 ریال'}}, 'visualization': {'chart_type': 'balance_sheet', 'data_points': [{'name': 'دارایی\u200cها', 'value': 1011048498059.0, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 45566000000.0, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 2045965928746.0, 'color': '#2196F3'}]}}
2025-11-06 18:32:23,154 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-06', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('202.74'), 'formatted_value': '202.74%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-54072.96'), 'formatted_value': '-54072.96%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('104.41'), 'formatted_value': '104.41%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('202.74'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-54072.96'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-06 18:47:35,548 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نماد اپل رو برای من تحلیل کن, A: {'success': True, 'report_type': 'comprehensive_report', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'گزارش جامع مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-06', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'صورت\u200cهای مالی اصلی', 'items': [{'subsection': 'ترازنامه', 'description': 'وضعیت دارایی\u200cها، بدهی\u200cها و حقوق صاحبان سهام', 'data': {'total_assets': 10000000000, 'total_liabilities': 6000000000, 'total_equity': 4000000000}}, {'subsection': 'صورت سود و زیان', 'description': 'درآمدها، هزینه\u200cها و سود/زیان خالص', 'data': {'revenue': 5000000000, 'expenses': 4200000000, 'net_income': 800000000}}, {'subsection': 'صورت جریان نقدی', 'description': 'جریان\u200cهای نقدی عملیاتی، سرمایه\u200cگذاری و تأمین مالی', 'data': {'operating_cash_flow': 750000000, 'investing_cash_flow': -200000000, 'financing_cash_flow': -100000000}}]}, {'title': 'تحلیل نسبت\u200cهای مالی', 'items': [{'subsection': 'نسبت\u200cهای نقدینگی', 'description': 'توانایی شرکت در پرداخت تعهدات کوتاه\u200cمدت', 'data': {'current_ratio': 2.1, 'quick_ratio': 1.5}}, {'subsection': 'نسبت\u200cهای اهرمی', 'description': 'ساختار سرمایه و وابستگی به منابع مالی خارجی', 'data': {'debt_ratio': 0.6, 'debt_to_equity': 1.5}}, {'subsection': 'نسبت\u200cهای سودآوری', 'description': 'کارایی و بازدهی عملیات شرکت', 'data': {'return_on_assets': 8.0, 'return_on_equity': 20.0, 'profit_margin': 16.0}}]}, {'title': 'تحلیل روند و پیش\u200cبینی', 'items': [{'subsection': 'روند ۶ ماهه', 'description': 'تحلیل عملکرد گذشته شرکت', 'data': {'revenue_growth': 15, 'profit_growth': 20, 'liquidity_improvement': 10}}, {'subsection': 'پیش\u200cبینی ۳ ماه آینده', 'description': 'برآورد عملکرد آتی شرکت', 'data': {'forecasted_revenue': 5500000000, 'forecasted_profit': 900000000, 'investment_need': 300000000}}]}], 'summary': {'overall_status': 'مطلوب', 'financial_health': 'قوی', 'growth_potential': 'بالا', 'risk_level': 'کم', 'recommendations': ['ادامه سرمایه\u200cگذاری در توسعه کسب\u200cوکار', 'حفظ سطح نقدینگی فعلی', 'بهبود کارایی عملیاتی', 'بررسی منظم شاخص\u200cهای مالی'], 'conclusion': 'وضعیت مالی شرکت مطلوب است. رشد مثبت در تمام شاخص\u200cها مشاهده می\u200cشود. توصیه می\u200cشود برای حفظ این روند، سرمایه\u200cگذاری در توسعه کسب\u200cوکار ادامه یابد.'}}, 'visualization': {'chart_type': 'comprehensive_report', 'data_points': [{'name': 'دارایی\u200cها', 'value': 10000000000, 'color': '#4CAF50'}, {'name': 'بدهی\u200cها', 'value': 6000000000, 'color': '#F44336'}, {'name': 'حقوق صاحبان سهام', 'value': 4000000000, 'color': '#2196F3'}, {'name': 'درآمد', 'value': 5000000000, 'color': '#FF9800'}, {'name': 'سود خالص', 'value': 800000000, 'color': '#9C27B0'}]}}
2025-11-06 20:08:44,786 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 20:08:44,825 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 20:08:44,825 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 20:08:44,825 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-06 20:11:31,511 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-06 20:11:31,563 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-06 20:11:31,564 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-06 20:11:31,564 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-07 08:46:40,421 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-07 08:46:40,548 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-07 08:46:40,548 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-07 08:46:40,548 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-07 09:14:30,194 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-07 09:14:30,256 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-07 09:14:30,257 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-07 09:14:30,257 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-07 09:17:06,654 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: CurrentAssetsAnalyzer.analyze_current_assets() got an unexpected keyword argument 'company_id'
2025-11-07 09:52:06,541 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-07 09:52:06,689 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-07 09:52:06,691 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-07 09:52:06,698 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-07 09:52:43,972 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: CurrentAssetsAnalyzer.analyze_current_assets() got an unexpected keyword argument 'company_id'
2025-11-07 10:15:23,783 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-07 10:15:23,917 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-07 10:15:23,918 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-07 10:15:23,920 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-07 10:21:20,577 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: CurrentAssetsAnalyzer.analyze_current_assets() missing 1 required positional argument: 'self'
2025-11-07 10:21:30,436 - financial_system.views - ERROR - خطا در اجرای ابزار analyze_current_assets: CurrentAssetsAnalyzer.analyze_current_assets() missing 1 required positional argument: 'self'
2025-11-07 10:41:26,198 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-07 10:41:26,296 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-07 10:41:26,300 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-07 10:41:26,301 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-07 10:42:36,333 - financial_system.views - ERROR - خطا در تحلیل سریع: BalanceSheetAnalyzer.analyze_balance_sheet() missing 2 required positional arguments: 'company_id' and 'period_id'
2025-11-07 20:51:57,412 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-07 20:51:57,658 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-07 20:51:57,659 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-07 20:51:57,662 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-07 20:52:32,180 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: صورت سود و زیان به من بده, A: {'success': True, 'report_type': 'income_statement', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'صورت سود و زیان', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-07', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'درآمدها', 'items': [{'account_group': 'درآمد خدمات', 'amount': 94796368864.0, 'formatted_amount': '94,796,368,864 ریال', 'percentage': -4.8289003475489585}, {'account_group': 'سایر درآمدها', 'amount': -2091846701944.0, 'formatted_amount': '-2,091,846,701,944 ریال', 'percentage': 106.55808220384921}], 'total': -1963104683080.0, 'formatted_total': '-1,963,104,683,080 ریال'}, {'title': 'هزینه\u200cها', 'items': [{'account_group': 'سایر هزینه\u200cها', 'amount': -561417857.0, 'formatted_amount': '-561,417,857 ریال', 'percentage': -0.6478997059318088}], 'total': 86651969720.0, 'formatted_total': '86,651,969,720 ریال'}], 'summary': {'total_revenue': -1963104683080.0, 'formatted_total_revenue': '-1,963,104,683,080 ریال', 'total_expenses': 86651969720.0, 'formatted_total_expenses': '86,651,969,720 ریال', 'net_income': -2049756652800.0, 'formatted_net_income': '-2,049,756,652,800 ریال', 'profit_margin': 104.41402694756185, 'profit_status': 'زیان', 'is_profitable': False}}, 'visualization': {'chart_type': 'income_statement', 'data_points': [{'name': 'درآمدها', 'value': 1963104683080.0, 'color': '#4CAF50'}, {'name': 'هزینه\u200cها', 'value': 86651969720.0, 'color': '#F44336'}, {'name': 'سود/زیان خالص', 'value': 2049756652800.0, 'color': '#FF9800'}]}}
2025-11-07 22:13:29,184 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-07 22:13:29,285 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-07 22:13:29,289 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-07 22:13:29,290 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-07 22:14:02,119 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: چه ابزارهایی داری؟, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-07 22:14:09,842 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: راهنما, A: من یک دستیار مالی هوشمند هستم. می‌توانم در زمینه‌های زیر به شما کمک کنم:

📊 تحلیل نسبت‌های مالی
🔍 شناسایی انحرافات مالی  
📈 تولید گزارش‌های مالی
📋 ترازنامه چهارستونی
📅 تحلیل عملکرد فصلی

لطفاً سوال مالی خود را مطرح کنید.
2025-11-07 22:14:48,944 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نمونه سوال به من بده, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-07 22:15:27,630 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: جستجوی ابزار مالی تحلیل صورت سود و زیان, A: {'success': True, 'report_type': 'income_statement', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'صورت سود و زیان', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-07', 'currency': 'ریال', 'language': 'fa'}, 'sections': [{'title': 'درآمدها', 'items': [{'account_group': 'درآمد خدمات', 'amount': 94796368864.0, 'formatted_amount': '94,796,368,864 ریال', 'percentage': -4.8289003475489585}, {'account_group': 'سایر درآمدها', 'amount': -2091846701944.0, 'formatted_amount': '-2,091,846,701,944 ریال', 'percentage': 106.55808220384921}], 'total': -1963104683080.0, 'formatted_total': '-1,963,104,683,080 ریال'}, {'title': 'هزینه\u200cها', 'items': [{'account_group': 'سایر هزینه\u200cها', 'amount': -561417857.0, 'formatted_amount': '-561,417,857 ریال', 'percentage': -0.6478997059318088}], 'total': 86651969720.0, 'formatted_total': '86,651,969,720 ریال'}], 'summary': {'total_revenue': -1963104683080.0, 'formatted_total_revenue': '-1,963,104,683,080 ریال', 'total_expenses': 86651969720.0, 'formatted_total_expenses': '86,651,969,720 ریال', 'net_income': -2049756652800.0, 'formatted_net_income': '-2,049,756,652,800 ریال', 'profit_margin': 104.41402694756185, 'profit_status': 'زیان', 'is_profitable': False}}, 'visualization': {'chart_type': 'income_statement', 'data_points': [{'name': 'درآمدها', 'value': 1963104683080.0, 'color': '#4CAF50'}, {'name': 'هزینه\u200cها', 'value': 86651969720.0, 'color': '#F44336'}, {'name': 'سود/زیان خالص', 'value': 2049756652800.0, 'color': '#FF9800'}]}}
2025-11-08 08:23:41,201 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-08 08:23:41,313 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-08 08:23:41,314 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-08 08:23:41,315 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-08 08:28:08,557 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نمونه سوال؟, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-08 08:28:28,878 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: چطور استفاده کنم؟, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-08 08:29:07,602 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: راهنمای نسبت ؟, A: من یک دستیار مالی هوشمند هستم. می‌توانم در زمینه‌های زیر به شما کمک کنم:

📊 تحلیل نسبت‌های مالی
🔍 شناسایی انحرافات مالی  
📈 تولید گزارش‌های مالی
📋 ترازنامه چهارستونی
📅 تحلیل عملکرد فصلی

لطفاً سوال مالی خود را مطرح کنید.
2025-11-08 10:38:44,591 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز کل چهارستونی به من بده, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-08', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4502645241638'), 'formatted_debit_turnover': '4,502,645,241,638 ریال', 'credit_turnover': Decimal('5513693739697'), 'formatted_credit_turnover': '5,513,693,739,697 ریال', 'ending_balance': Decimal('-1011048498059'), 'formatted_ending_balance': '-1,011,048,498,059 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('705964'), 'formatted_debit_turnover': '705,964 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('705964'), 'formatted_ending_balance': '705,964 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('516108890175'), 'formatted_debit_turnover': '516,108,890,175 ریال', 'credit_turnover': Decimal('496547890175'), 'formatted_credit_turnover': '496,547,890,175 ریال', 'ending_balance': Decimal('19561000000'), 'formatted_ending_balance': '19,561,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'چکهای در جریان وصول', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('28031755575'), 'formatted_debit_turnover': '28,031,755,575 ریال', 'credit_turnover': Decimal('3450642000'), 'formatted_credit_turnover': '3,450,642,000 ریال', 'ending_balance': Decimal('24581113575'), 'formatted_ending_balance': '24,581,113,575 ریال'}, {'account_name': 'دارایی ثابت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('834000000'), 'formatted_debit_turnover': '834,000,000 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-45566000000'), 'formatted_ending_balance': '-45,566,000,000 ریال'}, {'account_name': 'ماشین آلا ت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-46400000000'), 'formatted_ending_balance': '-46,400,000,000 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11035880100'), 'formatted_debit_turnover': '11,035,880,100 ریال', 'credit_turnover': Decimal('14826604154'), 'formatted_credit_turnover': '14,826,604,154 ریال', 'ending_balance': Decimal('-3790724054'), 'formatted_ending_balance': '-3,790,724,054 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5391903419762'), 'formatted_debit_turnover': '5,391,903,419,762 ریال', 'credit_turnover': Decimal('3428798736682'), 'formatted_credit_turnover': '3,428,798,736,682 ریال', 'ending_balance': Decimal('1963104683080'), 'formatted_ending_balance': '1,963,104,683,080 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('391893107192'), 'formatted_debit_turnover': '391,893,107,192 ریال', 'credit_turnover': Decimal('942826300000'), 'formatted_credit_turnover': '942,826,300,000 ریال', 'ending_balance': Decimal('-550933192808'), 'formatted_ending_balance': '-550,933,192,808 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2413602941631'), 'formatted_debit_turnover': '2,413,602,941,631 ریال', 'credit_turnover': Decimal('1957466117687'), 'formatted_credit_turnover': '1,957,466,117,687 ریال', 'ending_balance': Decimal('456136823944'), 'formatted_ending_balance': '456,136,823,944 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1940945249883'), 'formatted_debit_turnover': '1,940,945,249,883 ریال', 'credit_turnover': Decimal('494560668995'), 'formatted_credit_turnover': '494,560,668,995 ریال', 'ending_balance': Decimal('1446384580888'), 'formatted_ending_balance': '1,446,384,580,888 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('87300987577'), 'formatted_debit_turnover': '87,300,987,577 ریال', 'credit_turnover': Decimal('649017857'), 'formatted_credit_turnover': '649,017,857 ریال', 'ending_balance': Decimal('86651969720'), 'formatted_ending_balance': '86,651,969,720 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11827687355'), 'formatted_debit_turnover': '11,827,687,355 ریال', 'credit_turnover': Decimal('7496355062'), 'formatted_credit_turnover': '7,496,355,062 ریال', 'ending_balance': Decimal('4331332293'), 'formatted_ending_balance': '4,331,332,293 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293622326'), 'formatted_credit_turnover': '1,128,293,622,326 ریال', 'ending_balance': Decimal('-1017939522228'), 'formatted_ending_balance': '-1,017,939,522,228 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293222585'), 'formatted_credit_turnover': '1,128,293,222,585 ریال', 'ending_balance': Decimal('-1017939122487'), 'formatted_ending_balance': '-1,017,939,122,487 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('399741'), 'formatted_credit_turnover': '399,741 ریال', 'ending_balance': Decimal('-399741'), 'formatted_ending_balance': '-399,741 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('24256759248'), 'formatted_debit_turnover': '24,256,759,248 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('24256759248'), 'formatted_ending_balance': '24,256,759,248 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('16254092815'), 'formatted_debit_turnover': '16,254,092,815 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('16254092815'), 'formatted_ending_balance': '16,254,092,815 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8002666433'), 'formatted_debit_turnover': '8,002,666,433 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8002666433'), 'formatted_ending_balance': '8,002,666,433 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('16210927979440'), 'formatted_total_debit_turnover': '16,210,927,979,440 ریال', 'total_credit_turnover': Decimal('16700708408296'), 'formatted_total_credit_turnover': '16,700,708,408,296 ریال', 'total_ending_balance': Decimal('-489780428856'), 'formatted_total_ending_balance': '-489,780,428,856 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('16210927979440'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('16700708408296'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('489780428856'), 'color': '#FF9800'}]}}
2025-11-08 10:39:30,427 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری رو به من بده, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-08', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('202.74'), 'formatted_value': '202.74%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-54072.96'), 'formatted_value': '-54072.96%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('104.41'), 'formatted_value': '104.41%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('202.74'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-54072.96'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-12 20:33:53,423 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-12 20:33:54,013 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-12 20:33:54,038 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-12 20:33:54,099 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-12 20:39:33,030 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: تراز  کل رو به من بده چهارستونی, A: {'success': True, 'report_type': 'four_column_balance', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تراز کل چهارستونی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-12', 'currency': 'ریال', 'language': 'fa'}, 'accounts': [{'account_name': 'داراییهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('4502645241638'), 'formatted_debit_turnover': '4,502,645,241,638 ریال', 'credit_turnover': Decimal('5513693739697'), 'formatted_credit_turnover': '5,513,693,739,697 ریال', 'ending_balance': Decimal('-1011048498059'), 'formatted_ending_balance': '-1,011,048,498,059 ریال'}, {'account_name': 'موجودی نقد و بانک', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('705964'), 'formatted_debit_turnover': '705,964 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('705964'), 'formatted_ending_balance': '705,964 ریال'}, {'account_name': 'اسناد دریافتنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('516108890175'), 'formatted_debit_turnover': '516,108,890,175 ریال', 'credit_turnover': Decimal('496547890175'), 'formatted_credit_turnover': '496,547,890,175 ریال', 'ending_balance': Decimal('19561000000'), 'formatted_ending_balance': '19,561,000,000 ریال'}, {'account_name': 'پیش پرداختها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1485899367970'), 'formatted_credit_turnover': '1,485,899,367,970 ریال', 'ending_balance': Decimal('-1485899367970'), 'formatted_ending_balance': '-1,485,899,367,970 ریال'}, {'account_name': 'سپرده ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('1043277525'), 'formatted_credit_turnover': '1,043,277,525 ریال', 'ending_balance': Decimal('-1043277525'), 'formatted_ending_balance': '-1,043,277,525 ریال'}, {'account_name': 'چکهای در جریان وصول', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('28031755575'), 'formatted_debit_turnover': '28,031,755,575 ریال', 'credit_turnover': Decimal('3450642000'), 'formatted_credit_turnover': '3,450,642,000 ریال', 'ending_balance': Decimal('24581113575'), 'formatted_ending_balance': '24,581,113,575 ریال'}, {'account_name': 'دارایی ثابت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('834000000'), 'formatted_debit_turnover': '834,000,000 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-45566000000'), 'formatted_ending_balance': '-45,566,000,000 ریال'}, {'account_name': 'ماشین آلا ت', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('46400000000'), 'formatted_credit_turnover': '46,400,000,000 ریال', 'ending_balance': Decimal('-46400000000'), 'formatted_ending_balance': '-46,400,000,000 ریال'}, {'account_name': 'سایر دارایی ها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11035880100'), 'formatted_debit_turnover': '11,035,880,100 ریال', 'credit_turnover': Decimal('14826604154'), 'formatted_credit_turnover': '14,826,604,154 ریال', 'ending_balance': Decimal('-3790724054'), 'formatted_ending_balance': '-3,790,724,054 ریال'}, {'account_name': 'بدهیهای جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('5391903419762'), 'formatted_debit_turnover': '5,391,903,419,762 ریال', 'credit_turnover': Decimal('3428798736682'), 'formatted_credit_turnover': '3,428,798,736,682 ریال', 'ending_balance': Decimal('1963104683080'), 'formatted_ending_balance': '1,963,104,683,080 ریال'}, {'account_name': 'اسناد پرداختنی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('391893107192'), 'formatted_debit_turnover': '391,893,107,192 ریال', 'credit_turnover': Decimal('942826300000'), 'formatted_credit_turnover': '942,826,300,000 ریال', 'ending_balance': Decimal('-550933192808'), 'formatted_ending_balance': '-550,933,192,808 ریال'}, {'account_name': 'بستانکاران تجاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('2413602941631'), 'formatted_debit_turnover': '2,413,602,941,631 ریال', 'credit_turnover': Decimal('1957466117687'), 'formatted_credit_turnover': '1,957,466,117,687 ریال', 'ending_balance': Decimal('456136823944'), 'formatted_ending_balance': '456,136,823,944 ریال'}, {'account_name': 'سایر بستانکاران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('1940945249883'), 'formatted_debit_turnover': '1,940,945,249,883 ریال', 'credit_turnover': Decimal('494560668995'), 'formatted_credit_turnover': '494,560,668,995 ریال', 'ending_balance': Decimal('1446384580888'), 'formatted_ending_balance': '1,446,384,580,888 ریال'}, {'account_name': 'پیش دریافتها', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('645462121056'), 'formatted_debit_turnover': '645,462,121,056 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('645462121056'), 'formatted_ending_balance': '645,462,121,056 ریال'}, {'account_name': 'بدهیهای غیر جاری', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('87300987577'), 'formatted_debit_turnover': '87,300,987,577 ریال', 'credit_turnover': Decimal('649017857'), 'formatted_credit_turnover': '649,017,857 ریال', 'ending_balance': Decimal('86651969720'), 'formatted_ending_balance': '86,651,969,720 ریال'}, {'account_name': 'ذخایر', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('561417857'), 'formatted_credit_turnover': '561,417,857 ریال', 'ending_balance': Decimal('-561417857'), 'formatted_ending_balance': '-561,417,857 ریال'}, {'account_name': 'حقوق صاحبان سهام', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('11827687355'), 'formatted_debit_turnover': '11,827,687,355 ریال', 'credit_turnover': Decimal('7496355062'), 'formatted_credit_turnover': '7,496,355,062 ریال', 'ending_balance': Decimal('4331332293'), 'formatted_ending_balance': '4,331,332,293 ریال'}, {'account_name': 'اندوخته ها وسودوزیان انباشته', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('114272840'), 'formatted_debit_turnover': '114,272,840 ریال', 'credit_turnover': Decimal('3501027983'), 'formatted_credit_turnover': '3,501,027,983 ریال', 'ending_balance': Decimal('-3386755143'), 'formatted_ending_balance': '-3,386,755,143 ریال'}, {'account_name': 'درآمد', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293622326'), 'formatted_credit_turnover': '1,128,293,622,326 ریال', 'ending_balance': Decimal('-1017939522228'), 'formatted_ending_balance': '-1,017,939,522,228 ریال'}, {'account_name': 'درآمدهای عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('110354100098'), 'formatted_debit_turnover': '110,354,100,098 ریال', 'credit_turnover': Decimal('1128293222585'), 'formatted_credit_turnover': '1,128,293,222,585 ریال', 'ending_balance': Decimal('-1017939122487'), 'formatted_ending_balance': '-1,017,939,122,487 ریال'}, {'account_name': 'درآمدهای غیر عملیاتی', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': 0, 'formatted_debit_turnover': '0 ریال', 'credit_turnover': Decimal('399741'), 'formatted_credit_turnover': '399,741 ریال', 'ending_balance': Decimal('-399741'), 'formatted_ending_balance': '-399,741 ریال'}, {'account_name': 'هزینه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('24256759248'), 'formatted_debit_turnover': '24,256,759,248 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('24256759248'), 'formatted_ending_balance': '24,256,759,248 ریال'}, {'account_name': 'هزینه های کارخانه', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('16254092815'), 'formatted_debit_turnover': '16,254,092,815 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('16254092815'), 'formatted_ending_balance': '16,254,092,815 ریال'}, {'account_name': 'هزینه های دفترتهران', 'beginning_balance': 0, 'formatted_beginning_balance': '0 ریال', 'debit_turnover': Decimal('8002666433'), 'formatted_debit_turnover': '8,002,666,433 ریال', 'credit_turnover': 0, 'formatted_credit_turnover': '0 ریال', 'ending_balance': Decimal('8002666433'), 'formatted_ending_balance': '8,002,666,433 ریال'}], 'totals': {'total_beginning_balance': 0, 'formatted_total_beginning_balance': '0 ریال', 'total_debit_turnover': Decimal('16210927979440'), 'formatted_total_debit_turnover': '16,210,927,979,440 ریال', 'total_credit_turnover': Decimal('16700708408296'), 'formatted_total_credit_turnover': '16,700,708,408,296 ریال', 'total_ending_balance': Decimal('-489780428856'), 'formatted_total_ending_balance': '-489,780,428,856 ریال'}}, 'visualization': {'chart_type': 'four_column_balance', 'data_points': [{'name': 'مانده ابتدای دوره', 'value': 0, 'color': '#4CAF50'}, {'name': 'گردش بدهکار', 'value': Decimal('16210927979440'), 'color': '#F44336'}, {'name': 'گردش بستانکار', 'value': Decimal('16700708408296'), 'color': '#2196F3'}, {'name': 'مانده انتهای دوره', 'value': Decimal('489780428856'), 'color': '#FF9800'}]}}
2025-11-12 20:40:00,478 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: نسبت جاری شرکت چقدر است؟, A: {'success': True, 'report_type': 'financial_ratios', 'company_id': 1, 'period_id': 1, 'data': {'metadata': {'report_title': 'تحلیل نسبت\u200cهای مالی', 'company_name': 'شرکت 1', 'period_name': 'دوره 1', 'generation_date': '2025-11-12', 'currency': 'ریال', 'language': 'fa'}, 'ratios': {'liquidity_ratios': {'current_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت جاری'}, 'quick_ratio': {'value': 0, 'formatted_value': '0.00', 'status': 'ضعیف', 'description': 'نسبت آنی'}}, 'profitability_ratios': {'return_on_assets': {'value': Decimal('202.74'), 'formatted_value': '202.74%', 'status': 'عالی', 'description': 'بازده دارایی\u200cها', 'unit': '%'}, 'return_on_equity': {'value': Decimal('-54072.96'), 'formatted_value': '-54072.96%', 'status': 'ضعیف', 'description': 'بازده حقوق صاحبان سهام', 'unit': '%'}, 'profit_margin': {'value': Decimal('104.41'), 'formatted_value': '104.41%', 'description': 'حاشیه سود خالص', 'unit': '%'}}}, 'analysis': {'overall_status': 'نیازمند توجه', 'liquidity_status': 'ضعیف', 'profitability_status': 'عالی', 'recommendations': ['بررسی منظم نسبت\u200cهای مالی', 'بهبود مدیریت نقدینگی', 'حفظ سطح سودآوری'], 'risk_level': 'متوسط'}}, 'visualization': {'chart_type': 'financial_ratios', 'data_points': [{'name': 'نسبت جاری', 'value': 0, 'max_value': 3.0, 'color': '#4CAF50'}, {'name': 'نسبت آنی', 'value': 0, 'max_value': 2.0, 'color': '#2196F3'}, {'name': 'بازده دارایی\u200cها', 'value': Decimal('202.74'), 'max_value': 20.0, 'color': '#FF9800'}, {'name': 'بازده حقوق صاحبان سهام', 'value': Decimal('-54072.96'), 'max_value': 30.0, 'color': '#9C27B0'}]}}
2025-11-12 20:44:29,421 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: حالت چطوره داداش, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-12 20:44:58,746 - financial_system.views - INFO - Chat - User: javad.adel, Company: 1, Q: مالیات ارزش افزوده چطور محاسبه میشود, A: متأسفانه من فقط می‌توانم به سوالات مالی پاسخ دهم. لطفاً سوال مالی خود را مطرح کنید.
2025-11-16 06:56:59,466 - financial_system.core.setup - WARNING - ⚠️ LangChain در دسترس نیست: No module named 'langchain.llms'
2025-11-16 06:56:59,517 - financial_system.core.setup - INFO - ✅ 8 ابزار مالی بارگذاری شد
2025-11-16 06:56:59,519 - financial_system.core.setup - INFO - ✅ SimpleFinancialAgent با موفقیت ایجاد شد
2025-11-16 06:56:59,519 - financial_system.views - INFO - ✅ سیستم تحلیل مالی با موفقیت راه‌اندازی شد
2025-11-16 09:53:56,913 - financial_system.agents.financial_agent - INFO - سوال: '"مالیات ارزش افزوده در ایران چقدر هست؟' - طبقه‌بندی AI: {'is_financial': False, 'suggested_tool': None, 'confidence': 0.0, 'all_scores': {'analyze_ratios': 0.0, 'detect_anomalies': 0.0, 'generate_report': 0.0, 'four_column_balance': 0.0, 'seasonal_analysis': 0.0, 'comprehensive_report': 0.0}, 'decision_explanation': 'سوال به اندازه کافی مشخص نیست یا مربوط به امور مالی نمی\u200cباشد.', 'tool_description': None}
2025-11-16 10:02:56,411 - financial_system.agents.financial_agent - INFO - سوال: 'نسبت جاری شرکت چقدر است؟' - طبقه‌بندی AI: {'is_financial': False, 'suggested_tool': None, 'confidence': 0.18792452830188677, 'all_scores': {'analyze_ratios': 0.18792452830188677, 'detect_anomalies': 0.0, 'generate_report': 0.0, 'four_column_balance': 0.0, 'seasonal_analysis': 0.0, 'comprehensive_report': 0.0}, 'decision_explanation': 'سوال به اندازه کافی مشخص نیست یا مربوط به امور مالی نمی\u200cباشد.', 'tool_description': None}
2025-11-16 10:02:58,943 - financial_system.agents.financial_agent - INFO - سوال: 'مانده حساب صندوق چقدر است؟' - طبقه‌بندی AI: {'is_financial': False, 'suggested_tool': None, 'confidence': 0.15428571428571428, 'all_scores': {'analyze_ratios': 0.0, 'detect_anomalies': 0.0, 'generate_report': 0.0, 'four_column_balance': 0.15428571428571428, 'seasonal_analysis': 0.0, 'comprehensive_report': 0.0}, 'decision_explanation': 'سوال به اندازه کافی مشخص نیست یا مربوط به امور مالی نمی\u200cباشد.', 'tool_description': None}
2025-11-16 10:03:01,273 - financial_system.agents.financial_agent - INFO - سوال: 'تحلیل دارایی‌های جاری را ارائه دهید' - طبقه‌بندی AI: {'is_financial': False, 'suggested_tool': None, 'confidence': 0.14830188679245282, 'all_scores': {'analyze_ratios': 0.14830188679245282, 'detect_anomalies': 0.0, 'generate_report': 0.0, 'four_column_balance': 0.0, 'seasonal_analysis': 0.0, 'comprehensive_report': 0.09}, 'decision_explanation': 'سوال به اندازه کافی مشخص نیست یا مربوط به امور مالی نمی\u200cباشد.', 'tool_description': None}
2025-11-16 10:03:26,235 - financial_system.agents.financial_agent - INFO - سوال: 'تحلیل دارایی‌های جاری را ارائه دهید' - طبقه‌بندی AI: {'is_financial': False, 'suggested_tool': None, 'confidence': 0.14830188679245282, 'all_scores': {'analyze_ratios': 0.14830188679245282, 'detect_anomalies': 0.0, 'generate_report': 0.0, 'four_column_balance': 0.0, 'seasonal_analysis': 0.0, 'comprehensive_report': 0.09}, 'decision_explanation': 'سوال به اندازه کافی مشخص نیست یا مربوط به امور مالی نمی\u200cباشد.', 'tool_description': None}
2025-11-16 10:26:16,767 - financial_system.agents.financial_agent - INFO - سوال: 'jhkjh' - طبقه‌بندی AI: {'is_financial': False, 'suggested_tool': None, 'confidence': 0.0, 'all_scores': {'analyze_ratios': 0.0, 'detect_anomalies': 0.0, 'generate_report': 0.0, 'four_column_balance': 0.0, 'seasonal_analysis': 0.0, 'comprehensive_report': 0.0}, 'decision_explanation': 'سوال به اندازه کافی مشخص نیست یا مربوط به امور مالی نمی\u200cباشد.', 'tool_description': None}
2025-11-16 10:35:58,247 - financial_system.agents.financial_agent - INFO - سوال: 'مانده حساب صندوق چقدر است؟' - طبقه‌بندی AI: {'is_financial': False, 'suggested_tool': None, 'confidence': 0.15428571428571428, 'all_scores': {'analyze_ratios': 0.0, 'detect_anomalies': 0.0, 'generate_report': 0.0, 'four_column_balance': 0.15428571428571428, 'seasonal_analysis': 0.0, 'comprehensive_report': 0.0}, 'decision_explanation': 'سوال به اندازه کافی مشخص نیست یا مربوط به امور مالی نمی\u200cباشد.', 'tool_description': None}
2025-11-16 16:58:34,387 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'تو میتونی به من بگی ارزش افزوده در ایران چند درصد هست؟' - طبقه‌بندی: {'main_domain': 'tax', 'scores': {'accounting': 0, 'tax': 1, 'financial': 0, 'audit': 0}, 'is_financial_related': True}
2025-11-16 17:08:06,840 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'تو میتونی به من بگی ارزش افزوده در ایران چند درصد هست؟' - طبقه‌بندی: {'main_domain': 'tax', 'scores': {'accounting': 0, 'tax': 1, 'financial': 0, 'audit': 0}, 'is_financial_related': True}
2025-11-16 17:19:28,865 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'مالیات را تعریف کن' - طبقه‌بندی: {'main_domain': 'tax', 'scores': {'accounting': 0, 'tax': 1, 'financial': 0, 'audit': 0}, 'is_financial_related': True}
2025-11-16 17:29:50,380 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'تراز چهار ستونی بگیر' - طبقه‌بندی: {'main_domain': 'accounting', 'scores': {'accounting': 1, 'tax': 0, 'financial': 0, 'audit': 0}, 'is_financial_related': True}
2025-11-16 17:51:41,753 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'به من تراز کل چهار ستونی بده' - طبقه‌بندی: {'main_domain': 'accounting', 'scores': {'accounting': 1, 'tax': 0, 'financial': 0, 'audit': 0}, 'is_financial_related': True}
2025-11-16 17:51:41,754 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 7, 'seasonal_analysis': 2, 'comprehensive_report': 1}, 'best_tool': 'four_column_balance', 'best_tool_score': 7}
2025-11-16 17:51:41,755 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_TOOL
2025-11-16 17:51:41,756 - financial_system.agents.advanced_financial_agent - INFO - استفاده از ابزار: four_column_balance
2025-11-16 17:51:56,798 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'تعریف تراز چهار ستونی چیست؟' - طبقه‌بندی: {'main_domain': 'accounting', 'scores': {'accounting': 1, 'tax': 0, 'financial': 0, 'audit': 0}, 'is_financial_related': True}
2025-11-16 17:51:56,799 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 1, 'four_column_balance': 5, 'seasonal_analysis': 2, 'comprehensive_report': 0}, 'best_tool': 'four_column_balance', 'best_tool_score': 5}
2025-11-16 17:51:56,799 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_TOOL
2025-11-16 17:51:56,800 - financial_system.agents.advanced_financial_agent - INFO - استفاده از ابزار: four_column_balance
2025-11-16 18:00:54,456 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'داروی درمان سرطان چیست' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0}, 'is_financial_related': False}
2025-11-16 18:00:54,456 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 0, 'detect_anomalies': 0, 'generate_report': 0, 'four_column_balance': 0, 'seasonal_analysis': 0, 'comprehensive_report': 0}, 'best_tool': None, 'best_tool_score': 0, 'definition_penalty': 6}
2025-11-16 18:00:54,456 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-16 18:00:54,456 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-16 20:13:39,812 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'سلام وقت بخیر تو چه کمکی میتونی به من بکنی؟' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0}, 'is_financial_related': False}
2025-11-16 20:13:39,812 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 1, 'seasonal_analysis': 2, 'comprehensive_report': 0}, 'best_tool': 'detect_anomalies', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-16 20:13:39,812 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-16 20:13:39,815 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-16 20:33:25,856 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'چه کمکی میتونی به من بکنی ؟' - طبقه‌بندی: {'main_domain': 'help', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 2}, 'is_financial_related': True, 'is_help_related': True}
2025-11-16 20:33:25,856 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 1, 'seasonal_analysis': 2, 'comprehensive_report': 0}, 'best_tool': 'detect_anomalies', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-16 20:33:25,856 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_HELP
2025-11-16 20:33:25,860 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پرامپت راهنمایی
2025-11-16 20:33:25,860 - financial_system.agents.advanced_financial_agent - WARNING - DeepSeek API key not found, using fallback response
2025-11-16 20:50:22,601 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'خودت رو معرفی کن' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': False, 'is_help_related': False}
2025-11-16 20:50:22,610 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 1, 'seasonal_analysis': 2, 'comprehensive_report': 0}, 'best_tool': 'detect_anomalies', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-16 20:50:22,618 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-16 20:50:22,626 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-16 20:50:44,614 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'چه کمکی میتونی به من بکنی' - طبقه‌بندی: {'main_domain': 'help', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 2}, 'is_financial_related': True, 'is_help_related': True}
2025-11-16 20:50:44,615 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 1, 'seasonal_analysis': 2, 'comprehensive_report': 0}, 'best_tool': 'detect_anomalies', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-16 20:50:44,616 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_HELP
2025-11-16 20:50:44,617 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پرامپت راهنمایی
2025-11-16 20:50:44,617 - financial_system.agents.advanced_financial_agent - WARNING - DeepSeek API key not found, using fallback response
2025-11-16 22:17:50,059 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'سلام وقت بخیر' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': False, 'is_help_related': False}
2025-11-16 22:17:50,068 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 1, 'detect_anomalies': 0, 'generate_report': 1, 'four_column_balance': 0, 'seasonal_analysis': 1, 'comprehensive_report': 0}, 'best_tool': 'analyze_ratios', 'best_tool_score': 1, 'definition_penalty': 0}
2025-11-16 22:17:50,068 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-16 22:17:50,068 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-16 22:18:11,932 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'تو چه کمیکی به من میتونی بکنی؟' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': False, 'is_help_related': False}
2025-11-16 22:18:11,933 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 1, 'seasonal_analysis': 2, 'comprehensive_report': 0}, 'best_tool': 'detect_anomalies', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-16 22:18:11,933 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-16 22:18:11,934 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-16 22:18:32,002 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'مالیات ارزش افزوده چند است' - طبقه‌بندی: {'main_domain': 'tax', 'scores': {'accounting': 0, 'tax': 2, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-16 22:18:32,002 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 2, 'generate_report': 2, 'four_column_balance': 0, 'seasonal_analysis': 1, 'comprehensive_report': 3}, 'best_tool': 'comprehensive_report', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-16 22:18:32,002 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_DEEPSEEK
2025-11-16 22:18:32,002 - financial_system.agents.advanced_financial_agent - INFO - استفاده از DeepSeek
2025-11-16 22:39:58,760 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'سلام وقت بخیر' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': False, 'is_help_related': False}
2025-11-16 22:39:58,760 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 1, 'detect_anomalies': 0, 'generate_report': 1, 'four_column_balance': 0, 'seasonal_analysis': 1, 'comprehensive_report': 0}, 'best_tool': 'analyze_ratios', 'best_tool_score': 1, 'definition_penalty': 0}
2025-11-16 22:39:58,760 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-16 22:39:58,760 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-16 22:40:12,976 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'تراز چهار ستونی بده' - طبقه‌بندی: {'main_domain': 'accounting', 'scores': {'accounting': 1, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-16 22:40:12,976 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 5, 'seasonal_analysis': 2, 'comprehensive_report': 1}, 'best_tool': 'four_column_balance', 'best_tool_score': 5, 'definition_penalty': 0}
2025-11-16 22:40:12,976 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_TOOL
2025-11-16 22:40:12,976 - financial_system.agents.advanced_financial_agent - INFO - استفاده از ابزار: four_column_balance
2025-11-16 22:55:19,874 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'سلام وقت بخیر' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': False, 'is_help_related': False}
2025-11-16 22:55:19,874 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 1, 'detect_anomalies': 0, 'generate_report': 1, 'four_column_balance': 0, 'seasonal_analysis': 1, 'comprehensive_report': 0}, 'best_tool': 'analyze_ratios', 'best_tool_score': 1, 'definition_penalty': 0}
2025-11-16 22:55:19,874 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-16 22:55:19,874 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-16 22:55:31,880 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'تراز چهار ستونی به من بده' - طبقه‌بندی: {'main_domain': 'accounting', 'scores': {'accounting': 1, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-16 22:55:31,884 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 5, 'seasonal_analysis': 2, 'comprehensive_report': 1}, 'best_tool': 'four_column_balance', 'best_tool_score': 5, 'definition_penalty': 0}
2025-11-16 22:55:31,888 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_TOOL
2025-11-16 22:55:31,898 - financial_system.agents.advanced_financial_agent - INFO - استفاده از ابزار: four_column_balance
2025-11-17 06:57:22,421 - financial_system.agents.financial_agent - INFO - سوال: 'نسبت جاری شرکت چقدر است؟' - طبقه‌بندی AI: {'is_financial': False, 'suggested_tool': None, 'confidence': 0.18792452830188677, 'all_scores': {'analyze_ratios': 0.18792452830188677, 'detect_anomalies': 0.0, 'generate_report': 0.0, 'four_column_balance': 0.0, 'seasonal_analysis': 0.0, 'comprehensive_report': 0.0}, 'decision_explanation': 'سوال به اندازه کافی مشخص نیست یا مربوط به امور مالی نمی\u200cباشد.', 'tool_description': None}
2025-11-17 06:58:03,083 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'برای من انحرافات رو شناسایی کن' - طبقه‌بندی: {'main_domain': 'audit', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 1, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-17 06:58:03,084 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 5, 'generate_report': 2, 'four_column_balance': 3, 'seasonal_analysis': 2, 'comprehensive_report': 0}, 'best_tool': 'detect_anomalies', 'best_tool_score': 5, 'definition_penalty': 0}
2025-11-17 06:58:03,085 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_TOOL
2025-11-17 06:58:03,085 - financial_system.agents.advanced_financial_agent - INFO - استفاده از ابزار: detect_anomalies
2025-11-17 06:58:34,456 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'نسبت مالی رو محاسبه کن' - طبقه‌بندی: {'main_domain': 'financial', 'scores': {'accounting': 0, 'tax': 0, 'financial': 1, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-17 06:58:34,457 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 4, 'detect_anomalies': 3, 'generate_report': 3, 'four_column_balance': 1, 'seasonal_analysis': 2, 'comprehensive_report': 3}, 'best_tool': 'analyze_ratios', 'best_tool_score': 4, 'definition_penalty': 0}
2025-11-17 06:58:34,458 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_DEEPSEEK
2025-11-17 06:58:34,458 - financial_system.agents.advanced_financial_agent - INFO - استفاده از DeepSeek
2025-11-17 07:00:39,157 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'مایات بر درآمد چگونه محاسبه میشود؟' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': False, 'is_help_related': False}
2025-11-17 07:00:39,157 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 0, 'generate_report': 1, 'four_column_balance': 0, 'seasonal_analysis': 1, 'comprehensive_report': 0}, 'best_tool': 'analyze_ratios', 'best_tool_score': 2, 'definition_penalty': 0}
2025-11-17 07:00:39,157 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-17 07:00:39,157 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-17 07:01:03,395 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'مالیات بر درآمد چگونه محاسبه می شود؟' - طبقه‌بندی: {'main_domain': 'tax', 'scores': {'accounting': 0, 'tax': 2, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-17 07:01:03,396 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 3, 'detect_anomalies': 2, 'generate_report': 2, 'four_column_balance': 0, 'seasonal_analysis': 1, 'comprehensive_report': 3}, 'best_tool': 'analyze_ratios', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-17 07:01:03,396 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_DEEPSEEK
2025-11-17 07:01:03,397 - financial_system.agents.advanced_financial_agent - INFO - استفاده از DeepSeek
2025-11-17 07:29:35,744 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'من شخصی هستم و در آمد سالیانه من ۵۰۰ میلیون تومان هست و در رشته نرم افزار فعالیت میکنم' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': False, 'is_help_related': False}
2025-11-17 07:29:35,744 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 1, 'seasonal_analysis': 3, 'comprehensive_report': 0}, 'best_tool': 'detect_anomalies', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-17 07:29:35,744 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-17 07:29:35,744 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-17 07:44:33,036 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'سلام وقت بخیر' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': False, 'is_help_related': False}
2025-11-17 07:44:33,036 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 1, 'detect_anomalies': 0, 'generate_report': 1, 'four_column_balance': 0, 'seasonal_analysis': 1, 'comprehensive_report': 0}, 'best_tool': 'analyze_ratios', 'best_tool_score': 1, 'definition_penalty': 0}
2025-11-17 07:44:33,036 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-17 07:44:33,036 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-17 07:44:48,473 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'تراز چهار ستونی به من بده' - طبقه‌بندی: {'main_domain': 'accounting', 'scores': {'accounting': 1, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-17 07:44:48,473 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 5, 'seasonal_analysis': 2, 'comprehensive_report': 1}, 'best_tool': 'four_column_balance', 'best_tool_score': 5, 'definition_penalty': 0}
2025-11-17 07:44:48,474 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_TOOL
2025-11-17 07:44:48,475 - financial_system.agents.advanced_financial_agent - INFO - استفاده از ابزار: four_column_balance
2025-11-17 07:44:58,847 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'مالیات رو حساب کن' - طبقه‌بندی: {'main_domain': 'accounting', 'scores': {'accounting': 1, 'tax': 1, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-17 07:44:58,847 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 3, 'four_column_balance': 1, 'seasonal_analysis': 2, 'comprehensive_report': 3}, 'best_tool': 'detect_anomalies', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-17 07:44:58,847 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_DEEPSEEK
2025-11-17 07:44:58,847 - financial_system.agents.advanced_financial_agent - INFO - استفاده از DeepSeek
2025-11-17 16:38:23,040 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'سلام وقت بخیر' - طبقه‌بندی: {'main_domain': 'general', 'scores': {'accounting': 0, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': False, 'is_help_related': False}
2025-11-17 16:38:23,040 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 1, 'detect_anomalies': 0, 'generate_report': 1, 'four_column_balance': 0, 'seasonal_analysis': 1, 'comprehensive_report': 0}, 'best_tool': 'analyze_ratios', 'best_tool_score': 1, 'definition_penalty': 0}
2025-11-17 16:38:23,040 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_FALLBACK
2025-11-17 16:38:23,040 - financial_system.agents.advanced_financial_agent - INFO - استفاده از پاسخ fallback
2025-11-17 16:38:36,787 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'مالیات را توضیح بده' - طبقه‌بندی: {'main_domain': 'tax', 'scores': {'accounting': 0, 'tax': 1, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-17 16:38:36,788 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 3, 'seasonal_analysis': 2, 'comprehensive_report': 3}, 'best_tool': 'detect_anomalies', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-17 16:38:36,788 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_DEEPSEEK
2025-11-17 16:38:36,789 - financial_system.agents.advanced_financial_agent - INFO - استفاده از DeepSeek
2025-11-17 16:40:06,094 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'آره در رابطه با مالیات مستقیم توضیح بده' - طبقه‌بندی: {'main_domain': 'tax', 'scores': {'accounting': 0, 'tax': 2, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-17 16:40:06,094 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 3, 'seasonal_analysis': 3, 'comprehensive_report': 3}, 'best_tool': 'detect_anomalies', 'best_tool_score': 3, 'definition_penalty': 0}
2025-11-17 16:40:06,094 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_DEEPSEEK
2025-11-17 16:40:06,094 - financial_system.agents.advanced_financial_agent - INFO - استفاده از DeepSeek
2025-11-17 16:45:00,096 - financial_system.agents.advanced_financial_agent - INFO - سوال: 'تراز کل به من بده' - طبقه‌بندی: {'main_domain': 'accounting', 'scores': {'accounting': 1, 'tax': 0, 'financial': 0, 'audit': 0, 'help': 0}, 'is_financial_related': True, 'is_help_related': False}
2025-11-17 16:45:00,096 - financial_system.agents.advanced_financial_agent - INFO - تحلیل ابزارها: {'tool_scores': {'analyze_ratios': 2, 'detect_anomalies': 3, 'generate_report': 2, 'four_column_balance': 5, 'seasonal_analysis': 1, 'comprehensive_report': 1}, 'best_tool': 'four_column_balance', 'best_tool_score': 5, 'definition_penalty': 0}
2025-11-17 16:45:00,096 - financial_system.agents.advanced_financial_agent - INFO - تصمیم سیستم: USE_TOOL
2025-11-17 16:45:00,096 - financial_system.agents.advanced_financial_agent - INFO - استفاده از ابزار: four_column_balance
